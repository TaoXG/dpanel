"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2902],{78498:function(A,l,e){e.d(l,{Z:function(){return c}});var h=e(25035),a=e(42075),d=e(83062),r=e(67294),s=e(85893);function c(p){return(0,s.jsxs)(a.Z,{children:[p.title,(0,s.jsx)(d.Z,{title:p.help,children:(0,s.jsx)(h.Z,{})})]})}},78451:function(A,l,e){e.d(l,{Z:function(){return d}});var h=e(67294),a=e(85893);function d(r){return(0,a.jsx)("span",{style:{width:r.width?r.width:"auto",wordBreak:"break-word"},children:r.content})}},50070:function(A,l,e){e.r(l),e.d(l,{AppDetailContext:function(){return P},default:function(){return C}});var h=e(15009),a=e.n(h),d=e(99289),r=e.n(d),s=e(5574),c=e.n(s),p=e(24963),T=e(60335),D=e(55809),m=e(82346),E=e(25593),v=e(50136),u=e(67294),i=e(85893),P=(0,u.createContext)({});function C(){var f,g=(0,u.useContext)(p.Z),b=g.lang,I=g.loading,W=g.message,O=(0,m.useParams)(),U=(0,m.useSearchParams)(),t=c()(U,2),_=t[0],o=t[1],n=(f=_.get("tab"))!==null&&f!==void 0?f:"edit",G=(0,u.useState)("edit"),k=c()(G,2),V=k[0],x=k[1],B=(0,m.useNavigate)(),z=(0,u.useState)(1),w=c()(z,2),$=w[0],H=w[1],Z=[{label:(0,i.jsx)(m.Link,{to:"/app/detail/edit/".concat(O.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,i.jsx)(m.Link,{to:"/app/detail/network/".concat(O.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,i.jsx)(E.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){W.info(b("app.detail.createExplorerPlugin")),B("/app/detail/file/".concat(O.id,"?tab=file"))}},{label:(0,i.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){B("/app/detail/log/".concat(O.id,"?tab=log"))}},{label:(0,i.jsx)(E.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){B("/app/detail/stat/".concat(O.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,i.jsx)(D.Z,{}),disabled:!0}],J=(0,u.useState)(Z),F=c()(J,2),Q=F[0],X=F[1];(0,u.useEffect)(function(){I.show(),x(n);var M=function(){var L=r()(a()().mark(function N(){var K,S,R;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return S=Z,y.next=3,(0,T.jV)({md5:(K=O.id)!==null&&K!==void 0?K:""});case 3:R=y.sent,S.map(function(j){return j.key=="containerName"&&(j.label=R.data.info.Name),(!R.data.info.State.Running||R.data.info.State.Restarting)&&(j.key=="file"||j.key=="stat")&&(j.disabled=!0),j}),X(S),I.destroy();case 7:case"end":return y.stop()}},N)}));return function(){return L.apply(this,arguments)}}();M()},[$]);var Y=function(L){x(L.key)};return(0,i.jsxs)(P.Provider,{value:{reload:function(){H($+1)}},children:[(0,i.jsx)(v.Z,{mode:"horizontal",onClick:Y,selectedKeys:[V],items:Q}),(0,i.jsx)(m.Outlet,{})]})}},77812:function(A,l,e){e.r(l),e.d(l,{default:function(){return D}});var h=e(5574),a=e.n(h),d=e(67294),r=e(60335),s=e(82346),c=e(50070),p=e(43831),T=e(85893);function D(){var m=(0,s.useParams)(),E=(0,d.useState)(),v=a()(E,2),u=v[0],i=v[1],P=(0,d.useContext)(c.AppDetailContext);return(0,d.useEffect)(function(){var C;(0,r.jV)({md5:(C=m.id)!==null&&C!==void 0?C:""}).then(function(f){i(f.data.info)}),P.reload()},[]),u&&(0,T.jsx)(p.Z,{containerInfo:u})}},60335:function(A,l,e){e.d(l,{IE:function(){return T},IW:function(){return c},KK:function(){return i},LJ:function(){return C},RF:function(){return I},Re:function(){return g},aF:function(){return O},eE:function(){return v},jV:function(){return m}});var h=e(15009),a=e.n(h),d=e(99289),r=e.n(d),s=e(82346);function c(t){return p.apply(this,arguments)}function p(){return p=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/status",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),p.apply(this,arguments)}function T(t){return D.apply(this,arguments)}function D(){return D=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/get-list",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),D.apply(this,arguments)}function m(t){return E.apply(this,arguments)}function E(){return E=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/get-detail",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),E.apply(this,arguments)}function v(t){return u.apply(this,arguments)}function u(){return u=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/update",{data:_,method:"POST"}));case 1:case"end":return n.stop()}},t)})),u.apply(this,arguments)}function i(){return P.apply(this,arguments)}function P(){return P=r()(a()().mark(function t(){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return o.stop()}},t)})),P.apply(this,arguments)}function C(t){return f.apply(this,arguments)}function f(){return f=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/export",{method:"POST",data:_,responseType:"blob"}));case 1:case"end":return n.stop()}},t)})),f.apply(this,arguments)}function g(t){return b.apply(this,arguments)}function b(){return b=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/commit",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),b.apply(this,arguments)}function I(t){return W.apply(this,arguments)}function W(){return W=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/upgrade",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),W.apply(this,arguments)}function O(t){return U.apply(this,arguments)}function U(){return U=r()(a()().mark(function t(_){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("/api/app/container/copy",{method:"POST",data:_}));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}}}]);
