"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{10032:function(F,j,n){var C=n(5574),f=n.n(C),c=n(15009),h=n.n(c),E=n(99289),P=n.n(E),g=n(80821),I=n(14946),S=n(48689),T=n(184),x=n(38345),K=n(60940),L=n(42075),D=n(96074),l=n(26412),M=n(67294),t=n(85893),R=(0,M.forwardRef)(function(a,B){(0,M.useImperativeHandle)(B,function(){return{show:function(Z){return P()(h()().mark(function W(){var A,p;return h()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,I.IS)({name:Z});case 2:A=v.sent,A.data.info.Containers?(p=[],Object.keys(A.data.info.Containers).map(function(N){A.data.info.Containers[N].Id=N,p.push(A.data.info.Containers[N])}),w(p)):w([]),o(A.data.info),s(!0);case 6:case"end":return v.stop()}},W)}))()}}});var _=(0,M.useState)(!1),b=f()(_,2),m=b[0],s=b[1],r=(0,M.useState)(),i=f()(r,2),e=i[0],o=i[1],y=(0,M.useState)(),u=f()(y,2),U=u[0],w=u[1];return(0,t.jsx)(T.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:m,onOpenChange:function(Z){s(Z)},submitter:!1,children:(0,t.jsxs)(x.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(x.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,t.jsx)(K.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(Z,W,A){return(0,t.jsx)(L.Z,{split:(0,t.jsx)(D.Z,{type:"vertical"}),children:(0,t.jsx)(g.Z,{type:"text",action:function(){var O,v;return(0,I.t9)({name:(O=e==null?void 0:e.Id)!==null&&O!==void 0?O:"",containerName:(v=W.Id)!==null&&v!==void 0?v:""})},onSuccess:function(){var O=U==null?void 0:U.filter(function(v){return v.Id!=W.Id});w(O)},children:(0,t.jsx)(S.Z,{})},"delete")})}}],dataSource:U,pagination:!1})}),(0,t.jsx)(x.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,t.jsxs)(l.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,t.jsx)(l.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(l.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(l.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(l.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,t.jsx)(l.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[0])&&(0,t.jsx)(l.Z.Item,{label:"IPV4",children:(0,t.jsxs)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[0].Subnet}),(0,t.jsx)(l.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[0].Gateway}),(0,t.jsx)(l.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[0].IPRange}),(0,t.jsx)(l.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses).map(function(d){return(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses[d])+" ,"})})]})}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[1])&&(0,t.jsx)(l.Z.Item,{label:"IPV6",children:(0,t.jsxs)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[1].Subnet}),(0,t.jsx)(l.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[1].Gateway}),(0,t.jsx)(l.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[1].IPRange}),(0,t.jsx)(l.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses).map(function(d){return(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses[d])+" ,"})})]})}),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(l.Z.Item,{label:"Options",children:(0,t.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(d){return(0,t.jsx)(l.Z.Item,{label:d,children:e.Options[d]},d)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(l.Z.Item,{label:"Lables",children:(0,t.jsx)(l.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(d){return(0,t.jsx)(l.Z.Item,{label:d,children:e.Labels[d]},d)})})})]})})]})})});j.Z=R},6005:function(F,j,n){n.r(j),n.d(j,{default:function(){return B}});var C=n(15009),f=n.n(C),c=n(99289),h=n.n(c),E=n(80821),P=n(28230),g=n(10032),I=n(14946),S=n(67255),T=n(43425),x=n(90078),K=n(78099),L=n(66309),D=n(42075),l=n(96074),M=n(28036),t=n(83062),R=n(67294),a=n(85893);function B(){var _=(0,R.useRef)(),b=(0,R.useRef)();return(0,a.jsxs)(x._z,{header:{extra:[(0,a.jsx)(P.Z,{onFinish:function(){var s,r;!((s=_.current)===null||s===void 0)&&s.reloadAndRest&&((r=_.current)===null||r===void 0||r.reloadAndRest())}},"create")]},children:[(0,a.jsx)(g.Z,{ref:b}),(0,a.jsx)(K.Z,{scroll:{x:"max-content"},rowKey:"Name",columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"Name",render:function(s,r,i,e,o){return r.Name=="none"||r.Name=="bridge"||r.Name=="host"?(0,a.jsxs)(a.Fragment,{children:[r.Name," ",(0,a.jsx)(L.Z,{color:"blue",children:"System"})]}):(0,a.jsx)(a.Fragment,{children:s})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(s,r,i,e,o){return r.IPAM.Config&&r.IPAM.Config[0]?(0,a.jsxs)(D.Z,{direction:"vertical",children:[(0,a.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Subnet}),(0,a.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(s,r,i,e,o){return r.IPAM.Config&&r.IPAM.Config[1]?(0,a.jsxs)(D.Z,{direction:"vertical",children:[(0,a.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Subnet}),(0,a.jsx)("div",{children:r.IPAM.Config&&r.IPAM.Config[1].Gateway})]}):"-"}},{title:"\u521B\u5EFA\u65F6\u95F4",ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(s,r,i,e,o){return new Date(r.Created).toLocaleString()}},{title:"\u64CD\u4F5C",width:100,search:!1,fixed:"right",render:function(s,r,i,e,o){return(0,a.jsx)(D.Z,{split:(0,a.jsx)(l.Z,{type:"vertical"}),children:(0,a.jsx)(M.ZP,{type:"link",onClick:function(){var u;(u=b.current)===null||u===void 0||u.show(r.Name)},children:(0,a.jsx)(t.Z,{title:"\u7BA1\u7406",children:(0,a.jsx)(T.Z,{})})})})}}],request:function(){var m=h()(f()().mark(function s(r,i,e){var o;return f()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,I.jR)({name:r.Name});case 2:return o=u.sent,u.abrupt("return",{data:o.data.list,success:!0,total:o.data.list.length});case 4:case"end":return u.stop()}},s)}));return function(s,r,i){return m.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:_,tableAlertOptionRender:function(s){var r=s.selectedRowKeys;return(0,a.jsxs)(D.Z,{size:16,children:[(0,a.jsx)(E.Z,{danger:!0,type:"primary",action:function(){return(0,I._x)({name:r})},onSuccess:function(){var e,o;return!((e=_.current)===null||e===void 0)&&e.reloadAndRest&&((o=_.current)===null||o===void 0||o.reloadAndRest()),!0},onError:function(){var e,o;return!((e=_.current)===null||e===void 0)&&e.reset&&((o=_.current)===null||o===void 0||o.reset()),!0},confirm:"notification.confirm.title",children:"\u6279\u91CF\u5220\u9664"},"delete"),(0,a.jsx)(E.Z,{action:function(){return(0,I.CI)()},onSuccess:function(){var e,o;return!((e=_.current)===null||e===void 0)&&e.reloadAndRest&&((o=_.current)===null||o===void 0||o.reloadAndRest()),!0},onError:function(){var e,o;return!((e=_.current)===null||e===void 0)&&e.reset&&((o=_.current)===null||o===void 0||o.reset()),!0},confirm:"notification.confirm.title",children:"\u6E05\u7406\u672A\u4F7F\u7528\u7F51\u7EDC"},"clearNotUse")]})},pagination:(0,S.O)()})]})}},67255:function(F,j,n){n.d(j,{O:function(){return C},j:function(){return f}});function C(){var c=localStorage.getItem("dpanel-pagesize");return c=="all"?!1:{showSizeChanger:!0,defaultPageSize:parseInt(c!=null?c:"20")}}function f(c){var h="dpanel-table-column-".concat(c),E={};if(localStorage.getItem(h)){var P;E=JSON.parse((P=localStorage.getItem(h))!==null&&P!==void 0?P:"{}")}return{defaultValue:E,onChange:function(I){localStorage.setItem("dpanel-table-column-".concat(c),JSON.stringify(I))}}}}}]);
