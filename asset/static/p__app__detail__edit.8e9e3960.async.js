(self.webpackChunk=self.webpackChunk||[]).push([[8878],{55809:function(T,P,e){"use strict";var v=e(87462),s=e(67294),i=e(44805),g=e(84089),l=function(E,O){return s.createElement(g.Z,(0,v.Z)({},E,{ref:O,icon:i.Z}))},d=s.forwardRef(l);P.Z=d},5966:function(T,P,e){"use strict";var v=e(97685),s=e(1413),i=e(45987),g=e(21770),l=e(99859),d=e(55241),h=e(97435),E=e(67294),O=e(35510),n=e(85893),c=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],f="text",_=function(a){var t=a.fieldProps,D=a.proFieldProps,o=(0,i.Z)(a,c);return(0,n.jsx)(O.Z,(0,s.Z)({valueType:f,fieldProps:t,filedConfig:{valueType:f},proFieldProps:D},o))},p=function(a){var t=(0,g.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),D=(0,v.Z)(t,2),o=D[0],M=D[1];return(0,n.jsx)(l.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(r){var j,U=r.getFieldValue(a.name||[]);return(0,n.jsx)(d.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(u){return u&&u.parentNode?u.parentNode:u},onOpenChange:function(u){return M(u)},content:(0,n.jsxs)("div",{style:{padding:"4px 0"},children:[(j=a.statusRender)===null||j===void 0?void 0:j.call(a,U),a.strengthText?(0,n.jsx)("div",{style:{marginTop:10},children:(0,n.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},a.popoverProps),{},{open:o,children:a.children}))}})},C=function(a){var t=a.fieldProps,D=a.proFieldProps,o=(0,i.Z)(a,m),M=(0,E.useState)(!1),W=(0,v.Z)(M,2),r=W[0],j=W[1];return t!=null&&t.statusRender&&o.name?(0,n.jsx)(p,{name:o.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:r,onOpenChange:j,children:(0,n.jsx)("div",{children:(0,n.jsx)(O.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,h.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var u;t==null||(u=t.onBlur)===null||u===void 0||u.call(t,A),j(!1)},onClick:function(A){var u;t==null||(u=t.onClick)===null||u===void 0||u.call(t,A),j(!0)}}),proFieldProps:D,filedConfig:{valueType:f}},o))})}):(0,n.jsx)(O.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:D,filedConfig:{valueType:f}},o))},R=_;R.Password=C,R.displayName="ProFormComponent",P.Z=R},80821:function(T,P,e){"use strict";e.d(P,{Z:function(){return O}});var v=e(5574),s=e.n(v),i=e(24963),g=e(86738),l=e(28036),d=e(83062),h=e(67294),E=e(85893);function O(n){var c=(0,h.useState)(!1),m=s()(c,2),f=m[0],_=m[1],p=(0,h.useContext)(i.Z),C=p.lang,R=p.notice,x=p.message,a=function(){_(!0);var D=n.action();D instanceof Promise?D.then(function(o){if(_(!1),o){typeof n.onSuccess=="function"&&n.onSuccess(o);var M="";n.messageSuccess?typeof n.messageSuccess=="function"?M=n.messageSuccess(o):M=n.messageSuccess.indexOf("notification.")==0?C(n.messageSuccess):n.messageSuccess:M=C("notification.finish"),n.asynced?x.info(M):x.success(M)}}).catch(function(o){_(!1),typeof n.onError=="function"&&n.onError(o)}):_(!1)};return n.confirm?(0,E.jsx)(g.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:C("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?C(n.confirm):n.confirm,onConfirm:a,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange,children:(0,E.jsx)(l.ZP,{block:n.block,disabled:n.disabled,icon:n.icon,loading:f,danger:n.danger,type:n.type,children:n.children})}):(0,E.jsx)(d.Z,{title:n.tips,children:(0,E.jsx)(l.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto"}:{},disabled:n.disabled,icon:n.icon,loading:f,onClick:a,danger:n.danger,type:n.type,children:n.children})})}},24963:function(T,P,e){"use strict";var v=e(67294),s=(0,v.createContext)({});P.Z=s},29798:function(T,P,e){"use strict";e.r(P),e.d(P,{default:function(){return p}});var v=e(5574),s=e.n(v),i=e(60335),g=e(38345),l=e(82346),d=e(67294),h=e(24963),E=e(50070),O=e(37767),n=e(52031),c=e(14189),m=e(27813),f=e(14245),_=e(85893);function p(){var C=(0,d.useContext)(h.Z),R=C.message,x=C.notice,a=C.loading,t=C.lang,D=(0,d.useContext)(E.AppDetailContext),o=(0,l.useParams)(),M=(0,d.useState)(),W=s()(M,2),r=W[0],j=W[1],U=(0,d.useState)(1),A=s()(U,2),u=A[0],$=A[1],S=(0,l.useNavigate)();return(0,d.useEffect)(function(){var y;a.show(),D.reload(),(0,i.jV)({md5:(y=o.id)!==null&&y!==void 0?y:""}).then(function(I){I.data&&(I.data.info.HostConfig.NetworkMode=="host"&&I.data.info.Config.ExposedPorts&&Object.keys(I.data.info.Config.ExposedPorts).map(function(B){I.data.info.NetworkSettings.Ports[B]=[{HostIp:"0.0.0.0",HostPort:B.substring(0,B.indexOf("/"))}]}),j(I.data))}).finally(function(){a.destroy()})},[u]),(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(g.Z,{direction:"column",gutter:[0,10],children:[(r==null?void 0:r.info)&&(0,_.jsx)(c.Z,{data:r.info}),(r==null?void 0:r.info)&&(0,_.jsx)(m.Z,{data:r,checkContainerUpgrade:function(){S("/app/list")}}),r&&(0,_.jsx)(O.Z,{data:r}),r&&(0,_.jsx)(n.Z,{data:r==null?void 0:r.info}),r&&(0,_.jsx)(f.Z,{data:r.info})]})})}},50070:function(T,P,e){"use strict";e.r(P),e.d(P,{AppDetailContext:function(){return p},default:function(){return C}});var v=e(15009),s=e.n(v),i=e(99289),g=e.n(i),l=e(5574),d=e.n(l),h=e(24963),E=e(60335),O=e(55809),n=e(82346),c=e(25593),m=e(50136),f=e(67294),_=e(85893),p=(0,f.createContext)({});function C(){var R,x=(0,f.useContext)(h.Z),a=x.lang,t=x.loading,D=x.message,o=(0,n.useParams)(),M=(0,n.useSearchParams)(),W=d()(M,2),r=W[0],j=W[1],U=(R=r.get("tab"))!==null&&R!==void 0?R:"edit",A=(0,f.useState)("edit"),u=d()(A,2),$=u[0],S=u[1],y=(0,n.useNavigate)(),I=(0,f.useState)(1),B=d()(I,2),H=B[0],Y=B[1],V=[{label:(0,_.jsx)(n.Link,{to:"/app/detail/edit/".concat(o.id,"?tab=edit"),children:"\u5BB9\u5668\u8BE6\u60C5"}),key:"edit"},{label:(0,_.jsx)(n.Link,{to:"/app/detail/network/".concat(o.id,"?tab=network"),children:"\u7F51\u7EDC\u7BA1\u7406"}),key:"network"},{label:(0,_.jsx)(c.Z.Link,{children:"\u6587\u4EF6\u7BA1\u7406"}),key:"file",onClick:function(){D.info(a("app.detail.createExplorerPlugin")),y("/app/detail/file/".concat(o.id,"?tab=file"))}},{label:(0,_.jsx)(c.Z.Link,{children:"\u8FD0\u884C\u65E5\u5FD7"}),key:"log",onClick:function(){y("/app/detail/log/".concat(o.id,"?tab=log"))}},{label:(0,_.jsx)(c.Z.Link,{children:"\u8FD0\u884C\u72B6\u6001"}),key:"stat",onClick:function(){y("/app/detail/stat/".concat(o.id,"?tab=stat"))}},{label:"",key:"containerName",icon:(0,_.jsx)(O.Z,{}),disabled:!0}],J=(0,f.useState)(V),G=d()(J,2),Q=G[0],X=G[1];(0,f.useEffect)(function(){t.show(),S(U);var L=function(){var F=g()(s()().mark(function z(){var k,N,Z;return s()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return N=V,b.next=3,(0,E.jV)({md5:(k=o.id)!==null&&k!==void 0?k:""});case 3:Z=b.sent,N.map(function(K){return K.key=="containerName"&&(K.label=Z.data.info.Name),(!Z.data.info.State.Running||Z.data.info.State.Restarting)&&(K.key=="file"||K.key=="stat")&&(K.disabled=!0),K}),X(N),t.destroy();case 7:case"end":return b.stop()}},z)}));return function(){return F.apply(this,arguments)}}();L()},[H]);var w=function(F){S(F.key)};return(0,_.jsxs)(p.Provider,{value:{reload:function(){Y(H+1)}},children:[(0,_.jsx)(m.Z,{mode:"horizontal",onClick:w,selectedKeys:[$],items:Q}),(0,_.jsx)(n.Outlet,{})]})}},64599:function(T,P,e){var v=e(96263);function s(i,g){var l=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!l){if(Array.isArray(i)||(l=v(i))||g&&i&&typeof i.length=="number"){l&&(i=l);var d=0,h=function(){};return{s:h,n:function(){return d>=i.length?{done:!0}:{done:!1,value:i[d++]}},e:function(m){throw m},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,O=!1,n;return{s:function(){l=l.call(i)},n:function(){var m=l.next();return E=m.done,m},e:function(m){O=!0,n=m},f:function(){try{!E&&l.return!=null&&l.return()}finally{if(O)throw n}}}}T.exports=s,T.exports.__esModule=!0,T.exports.default=T.exports}}]);
