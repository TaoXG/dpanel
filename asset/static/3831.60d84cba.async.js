"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3831],{43831:function(G,L,n){var K=n(15009),D=n.n(K),Z=n(99289),p=n.n(Z),S=n(5574),N=n.n(S),E=n(67294),O=n(14946),y=n(43425),w=n(48689),A=n(38345),k=n(78099),C=n(42075),U=n(25593),r=n(83062),a=n(60335),t=n(78498),W=n(80821),$=n(10032),F=n(5251),B=n(28230),T=n(46442),x=n(78451),s=n(85893),h=(0,E.forwardRef)(function(i,e){var j;(0,E.useImperativeHandle)(e,function(){return{}});var c=(0,E.useRef)(),I=(0,E.useRef)(),R=(0,E.useState)(),f=N()(R,2),d=f[0],b=f[1];return(0,E.useEffect)(function(){var m,l;b(i.containerInfo),!((m=c.current)===null||m===void 0)&&m.reloadAndRest&&((l=c.current)===null||l===void 0||l.reloadAndRest())},[i.containerInfo]),(0,s.jsxs)(A.Z,{ghost:i.ghost,children:[(0,s.jsx)($.Z,{ref:I}),(0,s.jsx)(k.Z,{scroll:{x:"max-content"},rowKey:"key",actionRef:c,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName"},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName",width:100,render:function(l,_,u,o,P){return(0,s.jsx)(x.Z,{content:(0,F.fi)(_.containerName,"/")})}},{title:(0,s.jsx)(t.Z,{title:"hostname",help:"\u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE"}),key:"hostName",render:function(l,_,u){return _.hostName?(0,s.jsx)(C.Z,{direction:"vertical",children:_.hostName.map(function(o){if(o)return(0,s.jsx)(U.Z.Text,{copyable:!0,keyboard:!0,children:o},o)})}):(0,s.jsx)(s.Fragment,{})}},{title:"Ip",key:"ip",render:function(l,_,u,o,P){return(0,s.jsxs)(C.Z,{direction:"vertical",children:[(0,s.jsx)("span",{children:_.networkInfo.IPv4Address}),_.networkInfo.IPv6Address&&(0,s.jsx)("span",{children:_.networkInfo.IPv6Address})]})}},{title:"\u64CD\u4F5C",key:"option",width:50,fixed:"right",render:function(l,_,u,o,P){return(0,s.jsxs)(C.Z,{children:[_.networkName!=""&&(0,s.jsx)(U.Z.Link,{onClick:function(){var v;(v=I.current)===null||v===void 0||v.show(_.networkName)},children:(0,s.jsx)(r.Z,{title:"\u7BA1\u7406",children:(0,s.jsx)(y.Z,{})})}),_.key!="bridge"&&_.key!="none"&&_.key!="host"&&_.networkName!=""&&(0,s.jsx)(W.Z,{type:"link",action:function(){return(0,O.t9)({name:_.networkName,containerName:i.containerInfo.Name})},onSuccess:function(){var v,M;!((v=c.current)===null||v===void 0)&&v.reloadAndRest&&((M=c.current)===null||M===void 0||M.reloadAndRest())},tips:"\u9000\u51FA\u8BE5\u7F51\u7EDC",children:(0,s.jsx)(w.Z,{})})]})}}],request:function(){var m=p()(D()().mark(function l(_,u,o){var P,g;return D()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,a.jV)({md5:i.containerInfo.Name});case 2:return P=M.sent,b(P.data.info),M.next=6,(0,O._3)({name:Object.keys(P.data.info.NetworkSettings.Networks)});case 6:return g=M.sent,M.abrupt("return",{data:g.data.list,success:!0,total:g.data.list.length});case 8:case"end":return M.stop()}},l)}));return function(l,_,u){return m.apply(this,arguments)}}(),toolBarRender:function(){return[(0,s.jsx)(T.Z,{showTriggerButton:!0,onSelect:function(){var l=p()(D()().mark(function _(u){var o,P;return D()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,O.HY)({name:u.Name,containerName:i.containerInfo.Name,ipV4:""});case 2:P=v.sent,!((o=c.current)===null||o===void 0)&&o.reloadAndRest&&c.current.reloadAndRest();case 4:case"end":return v.stop()}},_)}));return function(_){return l.apply(this,arguments)}}()},"joinNetwork"),(0,s.jsx)(B.Z,{onFinish:function(){var _,u;!((_=c.current)===null||_===void 0)&&_.reloadAndRest&&((u=c.current)===null||u===void 0||u.reloadAndRest())}},"create")]},search:!1,expandable:{expandRowByClick:!1,expandedRowKeys:Object.keys((j=d==null?void 0:d.NetworkSettings.Networks)!==null&&j!==void 0?j:{bridge:[]})}})]})});L.Z=h},10032:function(G,L,n){var K=n(5574),D=n.n(K),Z=n(15009),p=n.n(Z),S=n(99289),N=n.n(S),E=n(80821),O=n(14946),y=n(48689),w=n(184),A=n(38345),k=n(60940),C=n(42075),U=n(96074),r=n(26412),a=n(67294),t=n(85893),W=(0,a.forwardRef)(function($,F){(0,a.useImperativeHandle)(F,function(){return{show:function(b){return N()(p()().mark(function m(){var l,_;return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,O.IS)({name:b});case 2:l=o.sent,l.data.info.Containers?(_=[],Object.keys(l.data.info.Containers).map(function(P){l.data.info.Containers[P].Id=P,_.push(l.data.info.Containers[P])}),f(_)):f([]),j(l.data.info),s(!0);case 6:case"end":return o.stop()}},m)}))()}}});var B=(0,a.useState)(!1),T=D()(B,2),x=T[0],s=T[1],h=(0,a.useState)(),i=D()(h,2),e=i[0],j=i[1],c=(0,a.useState)(),I=D()(c,2),R=I[0],f=I[1];return(0,t.jsx)(w.a,{title:"\u7F51\u7EDC\u8BE6\u60C5",open:x,onOpenChange:function(b){s(b)},submitter:!1,children:(0,t.jsxs)(A.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(A.Z,{title:"\u7F51\u7EDC\u5185\u5BB9\u5668",ghost:!0,children:(0,t.jsx)(k.Z,{rowKey:"Id",columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:"\u64CD\u4F5C",render:function(b,m,l){return(0,t.jsx)(C.Z,{split:(0,t.jsx)(U.Z,{type:"vertical"}),children:(0,t.jsx)(E.Z,{type:"text",action:function(){var u,o;return(0,O.t9)({name:(u=e==null?void 0:e.Id)!==null&&u!==void 0?u:"",containerName:(o=m.Id)!==null&&o!==void 0?o:""})},onSuccess:function(){var u=R==null?void 0:R.filter(function(o){return o.Id!=m.Id});f(u)},children:(0,t.jsx)(y.Z,{})},"delete")})}}],dataSource:R,pagination:!1})}),(0,t.jsx)(A.Z,{ghost:!0,title:"\u57FA\u7840\u4FE1\u606F",children:(0,t.jsxs)(r.Z,{labelStyle:{width:"180px"},column:1,bordered:!0,children:[(0,t.jsx)(r.Z.Item,{label:"\u540D\u79F0",children:e==null?void 0:e.Name}),(0,t.jsx)(r.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,t.jsx)(r.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,t.jsx)(r.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,t.jsx)(r.Z.Item,{label:"Attachable",children:e!=null&&e.Attachable?"\u662F":"\u5426"}),(0,t.jsx)(r.Z.Item,{label:"Internal",children:e!=null&&e.Internal?"\u662F":"\u5426"}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[0])&&(0,t.jsx)(r.Z.Item,{label:"IPV4",children:(0,t.jsxs)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(r.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[0].Subnet}),(0,t.jsx)(r.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[0].Gateway}),(0,t.jsx)(r.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[0].IPRange}),(0,t.jsx)(r.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses).map(function(d){return(e==null?void 0:e.IPAM.Config[0].AuxiliaryAddresses[d])+" ,"})})]})}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config[1])&&(0,t.jsx)(r.Z.Item,{label:"IPV6",children:(0,t.jsxs)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:[(0,t.jsx)(r.Z.Item,{label:"Subnet",children:e==null?void 0:e.IPAM.Config[1].Subnet}),(0,t.jsx)(r.Z.Item,{label:"Gateway",children:e==null?void 0:e.IPAM.Config[1].Gateway}),(0,t.jsx)(r.Z.Item,{label:"IP Range ",children:e==null?void 0:e.IPAM.Config[1].IPRange}),(0,t.jsx)(r.Z.Item,{label:"Excluded IPs",children:(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses)&&Object.keys(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses).map(function(d){return(e==null?void 0:e.IPAM.Config[1].AuxiliaryAddresses[d])+" ,"})})]})}),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,t.jsx)(r.Z.Item,{label:"Options",children:(0,t.jsx)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(d){return(0,t.jsx)(r.Z.Item,{label:d,children:e.Options[d]},d)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,t.jsx)(r.Z.Item,{label:"Lables",children:(0,t.jsx)(r.Z,{labelStyle:{width:"150px"},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(d){return(0,t.jsx)(r.Z.Item,{label:d,children:e.Labels[d]},d)})})})]})})]})})});L.Z=W},46442:function(G,L,n){var K=n(15009),D=n.n(K),Z=n(99289),p=n.n(Z),S=n(5574),N=n.n(S),E=n(67294),O=n(14946),y=n(64789),w=n(78099),A=n(28036),k=n(85265),C=n(42075),U=n(66309),r=n(28230),a=n(85893),t=(0,E.forwardRef)(function(W,$){(0,E.useImperativeHandle)($,function(){return{show:function(){x(!0)}}});var F=(0,E.useState)(!1),B=N()(F,2),T=B[0],x=B[1],s=(0,E.useRef)();return(0,a.jsxs)(a.Fragment,{children:[W.showTriggerButton&&(0,a.jsx)(A.ZP,{onClick:function(){x(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,a.jsx)(k.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:T,onClose:function(){return x(!1)},extra:(0,a.jsx)(C.Z,{children:(0,a.jsx)(r.Z,{onFinish:function(){var i,e;!((i=s.current)===null||i===void 0)&&i.reloadAndRest&&((e=s.current)===null||e===void 0||e.reloadAndRest())}},"create")}),children:(0,a.jsx)(w.Z,{rowKey:"Name",toolBarRender:!1,actionRef:s,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(i,e,j,c,I){return e.Name=="none"||e.Name=="bridge"||e.Name=="host"?(0,a.jsxs)(a.Fragment,{children:[e.Name," ",(0,a.jsx)(U.Z,{color:"blue",children:"System"})]}):(0,a.jsx)(a.Fragment,{children:i})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(i,e,j,c,I){return(0,a.jsxs)(C.Z,{children:[e.IPAM.Config&&e.IPAM.Config[0]&&"".concat(e.IPAM.Config[0].Subnet," - ").concat(e.IPAM.Config[0].Gateway),e.IPAM.Config&&e.IPAM.Config[1]&&"".concat(e.IPAM.Config[1].Subnet," - ").concat(e.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(i,e,j,c,I){return[e.Name!="none"&&e.Name!="bridge"&&e.Name!="host"&&(0,a.jsx)(A.ZP,{type:"link",onClick:function(){W.onSelect(e),x(!1)},children:(0,a.jsx)(y.Z,{})},e.Id)]}}],request:function(){var h=p()(D()().mark(function i(e,j,c){var I;return D()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,O.jR)({name:e.Name});case 2:return I=f.sent,f.abrupt("return",{data:I.data.list,success:!0,total:I.data.list.length});case 4:case"end":return f.stop()}},i)}));return function(i,e,j){return h.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});L.Z=t}}]);
