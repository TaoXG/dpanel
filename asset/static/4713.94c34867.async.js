"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4713],{80821:function(U,j,r){r.d(j,{Z:function(){return g}});var D=r(5574),s=r.n(D),x=r(24963),d=r(86738),l=r(28036),T=r(83062),f=r(67294),v=r(85893);function g(n){var M=(0,f.useState)(!1),O=s()(M,2),o=O[0],c=O[1],h=(0,f.useContext)(x.Z),b=h.lang,E=h.notice,A=h.message,m=function(){c(!0);var e=n.action();e instanceof Promise?e.then(function(u){if(c(!1),u){typeof n.onSuccess=="function"&&n.onSuccess(u);var _="";n.messageSuccess?typeof n.messageSuccess=="function"?_=n.messageSuccess(u):_=n.messageSuccess.indexOf("notification.")==0?b(n.messageSuccess):n.messageSuccess:_=b("notification.finish"),n.asynced?A.info(_):A.success(_)}}).catch(function(u){c(!1),typeof n.onError=="function"&&n.onError(u)}):c(!1)};return n.confirm?(0,v.jsx)(d.Z,{style:{width:500},title:n.confirmTitle?n.confirmTitle:b("notification.title.tip"),description:typeof n.confirm=="string"&&n.confirm.indexOf("notification.")==0?b(n.confirm):n.confirm,onConfirm:m,okText:"Yes",cancelText:"No",onOpenChange:n.confirmOnOpenChange,children:(0,v.jsx)(l.ZP,{block:n.block,disabled:n.disabled,icon:n.icon,loading:o,danger:n.danger,type:n.type,children:n.children})}):(0,v.jsx)(T.Z,{title:n.tips,children:(0,v.jsx)(l.ZP,{block:n.block,style:n.ghost?{padding:0,height:"auto"}:{},disabled:n.disabled,icon:n.icon,loading:o,onClick:m,danger:n.danger,type:n.type,children:n.children})})}},28230:function(U,j,r){var D=r(15009),s=r.n(D),x=r(99289),d=r.n(x),l=r(5574),T=r.n(l),f=r(24963),v=r(14946),g=r(184),n=r(5966),M=r(62370),O=r(97462),o=r(52688),c=r(24739),h=r(17186),b=r(28036),E=r(34041),A=r(71230),m=r(15746),P=r(67294),e=r(85893),u=(0,P.forwardRef)(function(_,i){var a=(0,P.useState)(!1),Y=T()(a,2),H=Y[0],X=Y[1],W=(0,P.useRef)(),z=(0,P.useContext)(f.Z),J=z.message;return(0,P.useImperativeHandle)(i,function(){return{}}),(0,e.jsxs)(g.a,{name:"create",title:"\u521B\u5EFA\u7F51\u7EDC",open:H,onOpenChange:function(p){X(p)},formRef:W,trigger:(0,e.jsx)(b.ZP,{type:"primary",children:"\u521B\u5EFA\u7F51\u7EDC"}),onFinish:function(){var I=d()(s()().mark(function p(t){var B,y,F,Z,L,S,V,K,k,$,N,w,R,G;return s()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return w={name:t.name,driver:(B=t.driver)!==null&&B!==void 0?B:"bridge",ipSubnet:(y=t.ipSubnet)!==null&&y!==void 0?y:"",ipGateway:(F=t.ipGateway)!==null&&F!==void 0?F:"",ipRange:(Z=t.ipRange)!==null&&Z!==void 0?Z:"",ipAux:t.ipAux,enableIpV6:(L=t.enableIpV6)!==null&&L!==void 0?L:!1,ipV6Subnet:(S=t.ipV6Subnet)!==null&&S!==void 0?S:"",ipV6Gateway:(V=t.ipV6Gateway)!==null&&V!==void 0?V:"",ipV6Range:(K=t.ipV6Range)!==null&&K!==void 0?K:"",ipV6Aux:(k=t.ipV6Aux)!==null&&k!==void 0?k:[],driverOption:t.driverOption,internal:($=t.internal)!==null&&$!==void 0?$:!1,attachable:(N=t.attachable)!==null&&N!==void 0?N:!1},(t.driver=="macvlan"||t.driver=="ipvlan")&&(w.driverOption||(w.driverOption=[]),w.driverOption.push({name:"parent",value:t.macvlanParentCard})),C.next=4,(0,v.XY)(w);case 4:if(R=C.sent,!(R&&R.data&&R.data.id!="")){C.next=10;break}return J.success("\u521B\u5EFA\u7F51\u7EDC\u6210\u529F"),_.onFinish&&_.onFinish(),(G=W.current)===null||G===void 0||G.resetFields(),C.abrupt("return",!0);case 10:case"end":return C.stop()}},p)}));return function(p){return I.apply(this,arguments)}}(),children:[(0,e.jsx)(n.Z,{label:"\u540D\u79F0",tooltip:"\u4E0D\u914D\u7F6E\u5B50\u7F51\u65F6\uFF0C\u4F1A\u81EA\u52A8\u751F\u6210",name:"name",required:!0,rules:[{required:!0}],placeholder:"\u6307\u5B9A\u552F\u4E00\u7684\u7F51\u7EDC\u540D\u79F0"}),(0,e.jsx)(M.Z,{label:"\u7C7B\u578B",name:"driver",children:(0,e.jsxs)(E.Z,{defaultValue:"bridge",children:[(0,e.jsx)(E.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(E.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(E.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(E.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(O.Z,{name:["driver"],children:function(p){var t=p.driver;if(t=="macvlan"||t=="ipvlan")return(0,e.jsx)(n.Z,{required:!0,rules:[{required:!0}],label:"\u7236\u7F51\u5361",name:"macvlanParentCard",tooltip:"\u6307\u5B9A\u8981\u6865\u63A5\u7684\u5BBF\u4E3B\u673A\u7F51\u5361\u540D\u79F0"})}}),(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(m.Z,{span:8,children:(0,e.jsx)(o.Z,{label:"\u81EA\u5B9AIPV4\u5B50\u7F51",name:"userIpV4Subnet"})}),(0,e.jsx)(m.Z,{span:8,children:(0,e.jsx)(o.Z,{name:"internal",label:"\u9694\u79BB\u5916\u90E8\u8BBF\u95EE",initialValue:!1})}),(0,e.jsx)(m.Z,{span:8,children:(0,e.jsx)(o.Z,{name:"attachable",label:"\u5141\u8BB8\u624B\u52A8\u9644\u52A0\u5BB9\u5668",initialValue:!1})})]}),(0,e.jsx)(O.Z,{name:["userIpV4Subnet"],children:function(p){var t=p.userIpV4Subnet;if(t)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.UW,{title:"IPV4\u914D\u7F6E",children:[(0,e.jsx)(n.Z,{label:"\u5B50\u7F51",name:"ipSubnet",width:"md",tooltip:"\u683C\u5F0F\u4E3A: \u5B50\u7F51\u8D77\u59CB\u5730\u5740/\u63A9\u7801\u3002\u5E38\u89C1\u7684\u683C\u5F0F\u6709 10.0.0.0/8, 172.20.0.0/16, 192.168.1.0/24",placeholder:"192.168.0.0/16"}),(0,e.jsx)(n.Z,{label:"\u7F51\u5173",name:"ipGateway",width:"md",placeholder:"192.168.0.1"}),(0,e.jsx)(n.Z,{label:"\u6307\u5B9AIp\u8303\u56F4",name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(h.u,{name:"ipAux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(n.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(n.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(m.Z,{span:8,children:(0,e.jsx)(o.Z,{label:"\u542F\u7528IPV6",name:"enableIpV6"})}),(0,e.jsx)(m.Z,{children:(0,e.jsx)(o.Z,{label:"\u81EA\u5B9AIPV6\u5B50\u7F51",name:"userIpV6Subnet",fieldProps:{onChange:function(p,t){if(p){var B;(B=W.current)===null||B===void 0||B.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(O.Z,{name:["userIpV6Subnet"],children:function(p){var t=p.userIpV6Subnet;if(t)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.UW,{title:"IPV6\u914D\u7F6E",children:[(0,e.jsx)(n.Z,{label:"\u5B50\u7F51",name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48"}),(0,e.jsx)(n.Z,{label:"\u7F51\u5173",name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1"}),(0,e.jsx)(n.Z,{label:"Ip\u8303\u56F4",name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(h.u,{name:"ipV6Aux",label:"\u6392\u9664Ip",children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(n.Z,{label:"\u8BBE\u5907\u540D\u79F0",name:"device",width:"md"}),(0,e.jsx)(n.Z,{label:"Ip\u5730\u5740",name:"address",width:"md"})]})})]})}}),(0,e.jsx)(h.u,{name:"driverOption",label:"\u81EA\u5B9A\u4E49\u9A71\u52A8\u914D\u7F6E",children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(n.Z,{label:"\u540D\u79F0",name:"name",width:"md"}),(0,e.jsx)(n.Z,{label:"\u503C",name:"value",width:"md"})]})})]})});j.Z=u},24963:function(U,j,r){var D=r(67294),s=(0,D.createContext)({});j.Z=s},14946:function(U,j,r){r.d(j,{CI:function(){return n},HY:function(){return A},IS:function(){return T},XY:function(){return c},_3:function(){return P},_x:function(){return O},jR:function(){return v},t9:function(){return b}});var D=r(15009),s=r.n(D),x=r(99289),d=r.n(x),l=r(82346);function T(u){return f.apply(this,arguments)}function f(){return f=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.request)("/api/app/network/get-detail",{method:"POST",data:_}));case 1:case"end":return a.stop()}},u)})),f.apply(this,arguments)}function v(u){return g.apply(this,arguments)}function g(){return g=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.request)("/api/app/network/get-list",{method:"POST",data:_}));case 1:case"end":return a.stop()}},u)})),g.apply(this,arguments)}function n(){return M.apply(this,arguments)}function M(){return M=d()(s()().mark(function u(){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,l.request)("/api/app/network/prune",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},u)})),M.apply(this,arguments)}function O(u){return o.apply(this,arguments)}function o(){return o=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.request)("/api/app/network/delete",{method:"POST",data:_});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),o.apply(this,arguments)}function c(u){return h.apply(this,arguments)}function h(){return h=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.request)("/api/app/network/create",{method:"POST",data:_});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),h.apply(this,arguments)}function b(u){return E.apply(this,arguments)}function E(){return E=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.request)("/api/app/network/disconnect",{method:"POST",data:_});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),E.apply(this,arguments)}function A(u){return m.apply(this,arguments)}function m(){return m=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.request)("/api/app/network/connect",{method:"POST",data:_});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)})),m.apply(this,arguments)}function P(u){return e.apply(this,arguments)}function e(){return e=d()(s()().mark(function u(_){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,l.request)("/api/app/network/get-container-list",{method:"POST",data:_}));case 1:case"end":return a.stop()}},u)})),e.apply(this,arguments)}}}]);
