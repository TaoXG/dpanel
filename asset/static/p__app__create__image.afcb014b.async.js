(self.webpackChunk=self.webpackChunk||[]).push([[3985],{64789:function(de,$,n){"use strict";n.d($,{Z:function(){return _}});var M=n(87462),m=n(67294),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},P=A,g=n(84089),j=function(R,l){return m.createElement(g.Z,(0,M.Z)({},R,{ref:l,icon:P}))},D=m.forwardRef(j),_=D},63434:function(de,$,n){"use strict";var M=n(1413),m=n(45987),A=n(22270),P=n(84567),g=n(67294),j=n(90789),D=n(35510),_=n(85893),d=["options","fieldProps","proFieldProps","valueEnum"],R=g.forwardRef(function(h,X){var u=h.options,t=h.fieldProps,Q=h.proFieldProps,ne=h.valueEnum,w=(0,m.Z)(h,d);return(0,_.jsx)(D.Z,(0,M.Z)({ref:X,valueType:"checkbox",valueEnum:(0,A.h)(ne,void 0),fieldProps:(0,M.Z)({options:u},t),lightProps:(0,M.Z)({labelFormatter:function(){return(0,_.jsx)(D.Z,(0,M.Z)({ref:X,valueType:"checkbox",mode:"read",valueEnum:(0,A.h)(ne,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,M.Z)({options:u},t),proFieldProps:Q},w))}},w.lightProps),proFieldProps:Q},w))}),l=g.forwardRef(function(h,X){var u=h.fieldProps,t=h.children;return(0,_.jsx)(P.Z,(0,M.Z)((0,M.Z)({ref:X},u),{},{children:t}))}),x=(0,j.G)(l,{valuePropName:"checked"}),y=x;y.Group=R,$.Z=y},31199:function(de,$,n){"use strict";var M=n(1413),m=n(45987),A=n(67294),P=n(35510),g=n(85893),j=["fieldProps","min","proFieldProps","max"],D=function(R,l){var x=R.fieldProps,y=R.min,h=R.proFieldProps,X=R.max,u=(0,m.Z)(R,j);return(0,g.jsx)(P.Z,(0,M.Z)({valueType:"digit",fieldProps:(0,M.Z)({min:y,max:X},x),ref:l,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:h},u))},_=A.forwardRef(D);$.Z=_},90672:function(de,$,n){"use strict";var M=n(1413),m=n(45987),A=n(67294),P=n(35510),g=n(85893),j=["fieldProps","proFieldProps"],D=function(d,R){var l=d.fieldProps,x=d.proFieldProps,y=(0,m.Z)(d,j);return(0,g.jsx)(P.Z,(0,M.Z)({ref:R,valueType:"textarea",fieldProps:l,proFieldProps:x},y))};$.Z=A.forwardRef(D)},91058:function(de,$,n){"use strict";var M=n(19632),m=n.n(M),A=n(97857),P=n.n(A),g=n(5574),j=n.n(g),D=n(89035),_=n(64317),d=n(5966),R=n(38345),l=n(17186),x=n(24739),y=n(42075),h=n(28036),X=n(85576),u=n(67294),t=n(95089),Q=n(12491),ne=n(62597),w=n(79245),k=n(85893),K="docker-image",le=(0,u.forwardRef)(function(H,he){var ce=(0,u.useState)(K),o=j()(ce,2),b=o[0],T=o[1],v=(0,u.useRef)(),ie=(0,u.useState)(""),pe=j()(ie,2),Re=pe[0],De=pe[1],e=function(){b!="code"?T("code"):T(K)};(0,u.useImperativeHandle)(he,function(){return{addEnvItem:function(S,ue){var ee,se=(ee=v.current)===null||ee===void 0?void 0:ee.getList(),Ee=!1;if(se==null||se.map(function(fe){if(fe.name==S){Ee=!0;return}}),!Ee){var _e;(_e=v.current)===null||_e===void 0||_e.add({name:S,value:ue})}},clear:function(){var S;(S=v.current)===null||S===void 0||(S=S.getList())===null||S===void 0||S.map(function(ue,ee){var se;(se=v.current)===null||se===void 0||se.remove(ee)})}}});function Ae(Z){try{var S,ue;Z==""&&(Z=Ze());for(var ee=(S=(ue=v.current)===null||ue===void 0||(ue=ue.getList())===null||ue===void 0?void 0:ue.length)!==null&&S!==void 0?S:0,se=ee;se>=0;se--){var Ee;(Ee=v.current)===null||Ee===void 0||Ee.remove(se)}var _e=Z.split(`
`),fe=0;_e.map(function(Pe){var Ie,ye=Pe.split("=");ye.length<2||((Ie=v.current)===null||Ie===void 0||Ie.add({name:ye[0],value:ye.slice(1).join("=")},fe),fe++)})}catch(Pe){console.log(Pe)}}function Ze(){if(v&&v.current&&v.current.getList){var Z,S=(Z=v.current)===null||Z===void 0?void 0:Z.getList();if(S){var ue=[];return S.map(function(ee){ue.push("".concat(ee.name,"=").concat(ee.value))}),ue.join(`
`)}else return""}else return""}function Te(Z){var S,ue,ee,se,Ee={},_e={help:Z&&Z.label?Z.label:"",name:"value",label:"\u53D8\u91CF\u503C",rules:[{required:H.requireValue?!0:(0,w.y)((S=Z.rule)===null||S===void 0?void 0:S.kind,ne.fp.EnvValueRuleRequired)}],disabled:H.showDisableValue||(0,w.y)((ue=Z.rule)===null||ue===void 0?void 0:ue.kind,ne.fp.EnvValueRuleDisabled)};if((0,w.y)((ee=Z.rule)===null||ee===void 0?void 0:ee.kind,ne.fp.EnvValueTypeSelect)){var fe;return(0,k.jsx)(_.Z,P()(P()({fieldProps:Ee},_e),{},{width:H.showInDrawer?"sm":"md",options:((fe=Z.rule)===null||fe===void 0?void 0:fe.option)&&Z.rule.option.map(function(Pe){return{label:Pe.name,value:Pe.value}}),initialValue:Z.value}))}else return(0,w.y)((se=Z.rule)===null||se===void 0?void 0:se.kind,ne.fp.EnvValueTypeNumber)?(0,k.jsx)(d.Z,P()(P()({fieldProps:Ee},_e),{},{width:H.showInDrawer?"sm":"md",rules:[].concat(m()(_e.rules),[{pattern:new RegExp("^[0-9]*$")}]),help:_e.help+",\u6570\u503C\u7C7B\u578B"})):(0,k.jsx)(d.Z,P()(P()({fieldProps:Ee},_e),{},{width:H.showInDrawer?"sm":"md"}))}return(0,k.jsxs)(R.Z,{ghost:H.showCardGhost,title:H.label?H.label:null,headerBordered:!0,extra:(H.showCodeMode||H.showImportButton)&&(0,k.jsxs)(y.Z,{children:[H.showImportButton&&(0,k.jsx)("div",{style:{marginBottom:"-25px"},children:(0,k.jsx)(Q.Z,{title:"\u5BFC\u5165 env \u6587\u4EF6",onImport:function(S){return Ae(S),!0},onLoad:function(S){if(S.indexOf("=")<0)throw new Error("\u5BFC\u5165env\u6587\u4EF6\u9519\u8BEF");return!0}})}),H.showCodeMode?(0,k.jsx)(h.ZP,{icon:(0,k.jsx)(D.Z,{}),type:b=="code"?"primary":"default",onClick:e,children:"\u4EE3\u7801\u6A21\u5F0F"},"code"):""]}),children:[(0,k.jsx)(l.u,{name:H.name?H.name:"environment",actionRef:v,creatorButtonProps:H.showAddButton?{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"}:!1,copyIconProps:!1,deleteIconProps:H.showDeleteButton,min:100,label:H.listLabel,children:function(S,ue,ee){var se=ee.getCurrentRowData();return(0,k.jsxs)(x.UW,{style:{marginBottom:"5px"},children:[(0,k.jsx)(d.Z,{width:H.showInDrawer?"sm":"md",name:"name",label:"\u53D8\u91CF\u540D",required:!0,rules:[{required:!0}],disabled:H.showDisableName,placeholder:"\u8F93\u5165\u53D8\u91CF\u540D\u79F0"}),Te(se)]})}}),H.showCodeMode&&(0,k.jsx)(X.Z,{width:"800px",open:b=="code",onCancel:function(){return T("docker-image")},onOk:function(){Ae(Re),T("docker-image")},children:(0,k.jsx)(t.ZP,{onChange:function(S){return De(S)},value:Ze(),height:"680px",theme:"light"})})]})});$.Z=le},92067:function(de,$,n){"use strict";n.d($,{Z:function(){return y}});var M=n(15009),m=n.n(M),A=n(99289),P=n.n(A),g=n(60335),j=n(64789),D=n(78099),_=n(42075),d=n(28036),R=n(37413),l=n(5251),x=n(85893);function y(h){return(0,x.jsx)(D.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"name",render:function(u,t,Q,ne){return(0,x.jsx)(_.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Names.map(function(w){return(0,l.fi)(w,"/")})},t.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(u,t,Q,ne){var w=[],k=[];return t!=null&&t.Ports&&t.Ports.map(function(K,le){K.PublicPort?w.push(K):k.push(K)}),(0,x.jsx)(R.Z,{publicPort:w,privatePort:k,domain:[]})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(u,t,Q,ne){return[(0,x.jsx)(d.ZP,{type:"link",onClick:P()(m()().mark(function w(){var k;return m()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,g.jV)({md5:t.Id});case 2:k=le.sent,h.onSelect&&h.onSelect(k.data.info);case 4:case"end":return le.stop()}},w)})),children:(0,x.jsx)(j.Z,{})},t.Id)]}}],rowKey:"Id",request:function(){var X=P()(m()().mark(function u(t,Q,ne){var w;return m()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,g.IE)({siteTitle:t.name});case 2:return w=K.sent,K.abrupt("return",{data:w.data.list,success:!0,total:w.data.list.length});case 4:case"end":return K.stop()}},u)}));return function(u,t,Q){return X.apply(this,arguments)}}(),pagination:{pageSize:9}})}},52255:function(de,$,n){"use strict";n.d($,{Z:function(){return A}});var M=n(67294),m=n(85893);function A(P){return(0,m.jsx)("div",{style:{display:P.show?"block":"none"},children:P.children})}},44349:function(de,$,n){"use strict";var M=n(97857),m=n.n(M),A=n(17186),P=n(5966),g=n(86250),j=n(67294),D=n(85893),_=(0,j.forwardRef)(function(d,R){var l=(0,j.useRef)();(0,j.useImperativeHandle)(R,function(){return{addItem:function(h,X){var u,t=(u=l.current)===null||u===void 0?void 0:u.getList(),Q=!1;if(t==null||t.map(function(w){if(w.name==h){Q=!0;return}}),!Q){var ne;(ne=l.current)===null||ne===void 0||ne.add({name:h,value:X})}},clear:function(){var h;(h=l.current)===null||h===void 0||(h=h.getList())===null||h===void 0||h.map(function(X,u){var t;(t=l.current)===null||t===void 0||t.remove(u)})}}});var x={};return d.hideCopyButton===!0&&(x.copyIconProps=!1),d.hideDeleteButton===!0&&(x.deleteIconProps=!1),(0,D.jsx)(A.u,m()(m()({initialValue:d.initialValue,label:d.label,name:d.name,actionRef:l,creatorButtonProps:d.showAddButton?{creatorButtonText:"\u6DFB\u52A0"+(d.label?d.label:d.name)}:!1,min:d.min?d.min:0},x),{},{children:function(h,X,u){return(0,D.jsx)(g.Z,{justify:d.justify,gap:d.gap,children:d.items.map(function(t){return t.render?(0,D.jsx)("div",{children:t.render&&t.render(h,X,u)},"".concat(d.name,"-").concat(t.name,"-").concat(h.key)):(0,D.jsx)(P.Z,{width:t.width,name:t.name,label:t.label,required:t.required,rules:[{required:t.required}],disabled:t.disabled,placeholder:t.placeholder},"".concat(d.name,"-").concat(t.name,"-").concat(h.key))})})}}))});$.Z=_},12491:function(de,$,n){"use strict";n.d($,{Z:function(){return _}});var M=n(24963),m=n(88484),A=n(62370),P=n(31418),g=n(28036),j=n(67294),D=n(85893);function _(d){var R=(0,j.useContext)(M.Z),l=R.message,x=R.notice,y=R.lang,h=(0,j.useRef)(null),X=P.Z.useApp(),u=function(){h.current&&(h.current.click(),h.current.onchange=function(Q){if(!Q||!Q.target)return"";var ne=new FileReader;ne.onload=function(k){var K,le,H=(K=k.target)===null||K===void 0?void 0:K.result;if(d.onLoad)try{d.onLoad&&d.onLoad(H)}catch(he){x.error(he);return}typeof d.onImport=="function"&&(l.success("\u6210\u529F\u5BFC\u5165 ".concat(d.title)),d.onImport(H)),(le=h.current)!==null&&le!==void 0&&le.value&&(h.current.value="")};var w=Q.target;if(w.files)try{ne.readAsText(w.files[0])}catch(k){x.error("\u5BFC\u5165\u6587\u4EF6\u5FC5\u987B\u662F\u6587\u672C\u7C7B\u578B")}})};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(A.Z,{children:(0,D.jsx)(g.ZP,{icon:(0,D.jsx)(m.Z,{}),block:!0,onClick:u,children:d.title})}),(0,D.jsx)("input",{style:{display:"none"},type:"file",ref:h,name:"importFileInput"})]})}},46442:function(de,$,n){"use strict";var M=n(15009),m=n.n(M),A=n(99289),P=n.n(A),g=n(5574),j=n.n(g),D=n(67294),_=n(14946),d=n(64789),R=n(78099),l=n(28036),x=n(85265),y=n(42075),h=n(66309),X=n(28230),u=n(85893),t=(0,D.forwardRef)(function(Q,ne){(0,D.useImperativeHandle)(ne,function(){return{show:function(){le(!0)}}});var w=(0,D.useState)(!1),k=j()(w,2),K=k[0],le=k[1],H=(0,D.useRef)();return(0,u.jsxs)(u.Fragment,{children:[Q.showTriggerButton&&(0,u.jsx)(l.ZP,{onClick:function(){le(!0)},children:"\u52A0\u5165\u7F51\u7EDC"}),(0,u.jsx)(x.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:800,footer:!1,open:K,onClose:function(){return le(!1)},extra:(0,u.jsx)(y.Z,{children:(0,u.jsx)(X.Z,{onFinish:function(){var ce,o;!((ce=H.current)===null||ce===void 0)&&ce.reloadAndRest&&((o=H.current)===null||o===void 0||o.reloadAndRest())}},"create")}),children:(0,u.jsx)(R.Z,{rowKey:"Name",toolBarRender:!1,actionRef:H,columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(ce,o,b,T,v){return o.Name=="none"||o.Name=="bridge"||o.Name=="host"?(0,u.jsxs)(u.Fragment,{children:[o.Name," ",(0,u.jsx)(h.Z,{color:"blue",children:"System"})]}):(0,u.jsx)(u.Fragment,{children:ce})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Network",search:!1,dataIndex:["IPAM","Config",0,"Subnet"],render:function(ce,o,b,T,v){return(0,u.jsxs)(y.Z,{children:[o.IPAM.Config&&o.IPAM.Config[0]&&"".concat(o.IPAM.Config[0].Subnet," - ").concat(o.IPAM.Config[0].Gateway),o.IPAM.Config&&o.IPAM.Config[1]&&"".concat(o.IPAM.Config[1].Subnet," - ").concat(o.IPAM.Config[1].Gateway)]})}},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(ce,o,b,T,v){return[o.Name!="none"&&o.Name!="bridge"&&o.Name!="host"&&(0,u.jsx)(l.ZP,{type:"link",onClick:function(){Q.onSelect(o),le(!1)},children:(0,u.jsx)(d.Z,{})},o.Id)]}}],request:function(){var he=P()(m()().mark(function ce(o,b,T){var v;return m()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,(0,_.jR)({name:o.Name});case 2:return v=pe.sent,pe.abrupt("return",{data:v.data.list,success:!0,total:v.data.list.length});case 4:case"end":return pe.stop()}},ce)}));return function(ce,o,b){return he.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})});$.Z=t},35880:function(de,$,n){"use strict";var M=n(67294),m=(0,M.createContext)({});$.Z=m},62643:function(de,$,n){"use strict";n.r($),n.d($,{default:function(){return In}});var M=n(15009),m=n.n(M),A=n(99289),P=n.n(A),g=n(5574),j=n.n(g),D=n(90078),_=n(38345),d=n(97269),R=n(2236),l=n(5966),x=n(24739),y=n(97462),h=n(30291),X=n(92398),u=n(38925),t=n(67294),Q=n(35880),ne=n(78099),w=n(62370),k=n(85265),K=n(42075),le=n(96074),H=n(28036),he=n(83062),ce=n(3393),o=n(18148),b=n(5251),T=n(64789),v=n(85060),ie=n(28307),pe=n(78451),Re=n(99861),De=n(80821),e=n(85893);function Ae(f){var L=(0,t.useState)(!1),U=j()(L,2),W=U[0],F=U[1],N=(0,t.useRef)(),i=(0,t.useContext)(Q.Z),E=i.createFormRef,V=i.volumeListRef,G=i.createEnvRef,C=i.domainRef,c=(0,t.useRef)(),O=function(){var p=P()(m()().mark(function I(s){var B,te,Y,J,ve,Fe,ae,z,a,oe,r,ge;return m()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,(0,ce.YU)({md5:s});case 2:return J=me.sent,f.redeploy||(z=(ve=E.current)===null||ve===void 0?void 0:ve.getFieldsValue(),(Fe=E.current)===null||Fe===void 0||Fe.resetFields(),(ae=E.current)===null||ae===void 0||ae.setFieldsValue({siteName:z.siteName,siteTitle:z.siteTitle,useBridgeNetwork:z.useBridgeNetwork})),J.data.info.Config.Env&&J.data.info.Config.Env.map(function(q){var be,Ce=q.split("=");(be=G.current)===null||be===void 0||be.addEnvItem(Ce[0],Ce.slice(1).join("="))}),(B=E.current)===null||B===void 0||B.setFieldValue("imageName",s),(te=E.current)===null||te===void 0||te.setFieldValue("workDir",J.data.info.Config.WorkingDir),(Y=C.current)===null||Y===void 0||Y.setExposePort(J.data.info.Config.ExposedPorts),f.redeploy||(J.data.info.Config.Volumes?(r=[],Object.keys(J.data.info.Config.Volumes).map(function(q,be){r.push(q)}),(oe=V.current)===null||oe===void 0||oe.setDefaultDestPath(r)):(ge=V.current)===null||ge===void 0||ge.setDefaultDestPath([]),(a=E.current)===null||a===void 0||a.setFieldsValue({workDir:{value:"",useDefault:!0,default:J.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:J.data.info.Config.User},command:{value:"",useDefault:!0,default:J.data.info.Config.Cmd&&J.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:J.data.info.Config.Entrypoint&&J.data.info.Config.Entrypoint.join(" ")}})),me.abrupt("return",!0);case 10:case"end":return me.stop()}},I)}));return function(s){return p.apply(this,arguments)}}();return(0,t.useEffect)(function(){f.fromImageId&&O(f.fromImageId)},[f.fromImageId]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(k.Z,{open:W,width:800,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onClose:function(){return F(!1)},children:(0,e.jsx)(ne.Z,{scroll:{x:"max-content"},columns:[{title:"Id",dataIndex:"Id",search:!1,width:80,render:function(I,s,B,te,Y){return(0,e.jsx)(pe.Z,{content:s.Id.slice(7,19)})}},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",width:200,render:function(I,s,B,te){return(0,e.jsx)(pe.Z,{content:s.RepoTags[0]})}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",search:!1,width:100,render:function(I,s,B,te){return(0,e.jsx)("div",{children:(0,b.ZM)(s.Created*1e3)},s.Id)},sorter:function(I,s){return I.Created-s.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:50,render:function(I,s,B,te){return(0,e.jsx)(K.Z,{split:(0,e.jsx)(le.Z,{type:"vertical"}),children:(0,e.jsx)(De.Z,{icon:(0,e.jsx)(T.Z,{}),tips:"\u4F7F\u7528\u955C\u50CF",action:function(){return O(s.RepoTags[0])},type:"link",onSuccess:function(){var J;F(!1),(J=V.current)===null||J===void 0||J.initImageRootfs(s.RepoTags[0])}},"addImage")})}}],request:function(){var p=P()(m()().mark(function I(s,B,te){var Y,J,ve,Fe,ae;return m()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f.redeploy&&(J=(Y=E.current)===null||Y===void 0?void 0:Y.getFieldValue("imageName"),s.tag=J?J.split(":")[0]:s.tag),a.next=3,(0,o.KG)({tag:s.tag});case 3:return ve=a.sent,Fe=0,ae=[],ve.data.list&&(ae=ve.data.list.flatMap(function(oe){return oe.RepoTags.map(function(r){return{Key:Fe++,Id:oe.Id,Created:oe.Created,RepoTags:[r]}})})),a.abrupt("return",{data:ae,success:!0,total:ae.length});case 8:case"end":return a.stop()}},I)}));return function(I,s,B){return p.apply(this,arguments)}}(),formRef:N,rowKey:"Key",pagination:{pageSize:8}})},"imageTableList"),(0,e.jsxs)(K.Z.Compact,{children:[(0,e.jsx)(l.Z,{width:"lg",label:"\u955C\u50CF",tooltip:f.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),!f.redeploy&&(0,e.jsx)(w.Z,{label:" ",children:(0,e.jsx)(H.ZP,{type:"primary",onClick:function(){return F(!0)},children:"\u9009\u62E9\u955C\u50CF"},"showBtn")}),(0,e.jsx)(y.Z,{name:["imageName"],children:function(I){var s=I.imageName;if(s)return(0,e.jsx)(w.Z,{label:" ",children:(0,e.jsx)(Re.Z,{finishAutoHide:!0,image:s?[s]:[],trigger:(0,e.jsx)(he.Z,{title:"\u91CD\u65B0\u62C9\u53D6\u5F53\u524D\u955C\u50CF",children:(0,e.jsx)(H.ZP,{icon:(0,e.jsx)(v.Z,{}),children:"\u66F4\u65B0\u5F53\u524D\u955C\u50CF"})})})})}}),(0,e.jsx)(w.Z,{label:" ",children:(0,e.jsx)(ie.Z,{onClick:function(){F(!1)},ref:c,onFinish:function(I){O(I)}},"remote")})]})]})}var Ze=n(60335),Te=n(51042),Z=n(63434),S=n(17186),ue=n(25593),ee=n(92067),se=(0,t.forwardRef)(function(f,L){var U=(0,t.useState)(!1),W=j()(U,2),F=W[0],N=W[1],i=(0,t.useRef)(),E=function(C){var c=(0,t.useState)([]),O=j()(c,2),p=O[0],I=O[1];return(0,t.useEffect)(function(){(0,Ze.jV)({md5:C.name}).then(function(s){var B;return I((B=s.data.info.Config.Env)!==null&&B!==void 0?B:[]),!0})},[]),(0,e.jsxs)(_.Z,{bordered:!0,extra:C.action,style:{marginBottom:10},children:[(0,e.jsx)(_.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(l.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(Z.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(_.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(K.Z,{direction:"vertical",children:p&&p.map(function(s,B){return(0,e.jsx)(ue.Z.Text,{copyable:{icon:(0,e.jsx)(Te.Z,{}),onCopy:function(){var Y=s.split("=");f.onAddEnv(Y[0],Y[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:s},style:{width:300},children:s},B)})},"linkEnv")})]})},V=function(C){var c,O,p=!1,I=(c=(O=i.current)===null||O===void 0?void 0:O.getList())!==null&&c!==void 0?c:[];if(I.map(function(B){B.name==C.name&&(p=!0)}),!p){var s;(s=i.current)===null||s===void 0||s.add(C)}};return(0,t.useImperativeHandle)(L,function(){return{setDefaultLink:function(C){C&&C.map(function(c){c.name!=""&&V(c)})}}}),(0,e.jsxs)(_.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(S.u,{name:"links",actionRef:i,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(C,c){return N(!0),!1}},copyIconProps:!1,min:0,itemRender:function(C,c){return(0,e.jsx)(E,{action:C.action,name:c.record.name})}}),(0,e.jsx)(k.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:800,footer:!1,open:F,onClose:function(){return N(!1)},children:(0,e.jsx)(ee.Z,{onSelect:function(C){V({name:C.Name,alise:C.Config.Hostname,volume:!1}),N(!1)}})})]})}),Ee=se,_e=n(91058),fe=n(64317),Pe=n(1413),Ie=n(45987),ye=n(35510),ze=["fieldProps","request","params","proFieldProps"],Xe=function(L,U){var W=L.fieldProps,F=L.request,N=L.params,i=L.proFieldProps,E=(0,Ie.Z)(L,ze);return(0,e.jsx)(ye.Z,(0,Pe.Z)({valueType:"treeSelect",fieldProps:W,ref:U,request:F,params:N,filedConfig:{customLightMode:!0},proFieldProps:i},E))},Je=t.forwardRef(Xe),Qe=Je;function qe(f){var L=function(W){W.target&&W.target.className&&W.target.className.indexOf(f.targetClassName)!==-1&&W.preventDefault()};return(0,t.useEffect)(function(){return window.addEventListener("wheel",L,{passive:!1}),function(){window.removeEventListener("wheel",L)}},[]),(0,e.jsx)(e.Fragment,{children:f.children})}var en=(0,t.forwardRef)(function(f,L){var U=(0,t.useRef)(),W=(0,t.useContext)(Q.Z),F=W.createFormRef,N=(0,t.useState)(),i=j()(N,2),E=i[0],V=i[1];(0,t.useImperativeHandle)(L,function(){return{setDefaultDestPath:function(c){var O,p,I=(O=(p=U.current)===null||p===void 0?void 0:p.getList())!==null&&O!==void 0?O:[];c.length!=0&&c.filter(function(s){return s!=""}).map(function(s){var B=!1;if(I.map(function(Y){if(Y.dest==s){B=!0;return}}),!B){var te;(te=U.current)===null||te===void 0||te.add({dest:s,permission:"write",inImage:!0})}})},addUserVolumeItem:function(c,O){var p,I=(p=U.current)===null||p===void 0?void 0:p.getList(),s=!1;if(I==null||I.map(function(te){if(te.dest==O){s=!0;return}}),!s){var B;(B=U.current)===null||B===void 0||B.add({host:c,dest:O})}},initImageRootfs:G}});var G=function(){var C=P()(m()().mark(function c(O){var p,I;return m()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!E){B.next=2;break}return B.abrupt("return");case 2:if(O){B.next=4;break}return B.abrupt("return");case 4:return B.next=6,(0,ce.cD)({md5:O});case 6:p=B.sent,I={title:"/",value:"/",children:[]},p.data.list.map(function(te){var Y=I;te.split("/").map(function(J,ve,Fe){var ae;if(J){var z=(ae=Y.children)===null||ae===void 0?void 0:ae.find(function(a){return a.title===J});z||(z={title:J,value:Fe.join("/"),children:[]},Y.children?Y.children.push(z):Y.children=[z]),Y=z}})}),I.children&&V(I.children);case 10:case"end":return B.stop()}},c)}));return function(O){return C.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(_.Z,{title:"\u81EA\u5B9A\u4E49\u6302\u8F7D\u6216\u662F\u5B58\u50A8\u5377",tooltip:"\u6302\u8F7D\u53EF\u4EE5\u662F\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55\u6216\u662F\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5B58\u50A8\u5377\u540D\uFF08\u81EA\u52A8\u65B0\u5EFA\uFF09\u3002",headerBordered:!0,direction:"column",children:(0,e.jsx)(S.u,{actionRef:U,name:"volumes",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6620\u5C04\u76EE\u5F55"},copyIconProps:!1,min:0,children:function(c,O,p){var I,s=p.getCurrentRowData();return(0,e.jsxs)(x.UW,{children:[(0,e.jsxs)(K.Z.Compact,{children:[(0,e.jsx)(l.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u3001\u76EE\u5F55\u6216\u5B58\u50A8\u5377",name:"host",width:f.showInDrawer?"sm":"md"}),(0,e.jsx)(fe.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsxs)(K.Z.Compact,{children:[(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:f.showInDrawer?"sm":"md",required:!0,rules:[{required:!0}],disabled:f.disabledUserVolumeDest||s.inImage}),!f.disabledUserVolumeDest&&!s.inImage&&((I=F.current)===null||I===void 0?void 0:I.getFieldValue)&&F.current.getFieldValue("imageName")&&(0,e.jsx)(qe,{targetClassName:"ant-select-tree",children:(0,e.jsx)(Qe,{label:" ",width:"sm",placeholder:"\u9009\u62E9\u5BB9\u5668\u5185\u76EE\u5F55",fieldProps:{loading:!E,popupMatchSelectWidth:500,placement:"topLeft",treeLine:!0,showSearch:!0,onChange:function(te,Y,J){p.setCurrentRowData({dest:te})},treeData:E}},"abc4")})]})]})}})})})}),nn=en,tn=n(2831),xe=n(52688),Ke=n(86125),rn=n(71230),He=n(15746),an=n(44349);function un(f){var L,U=(0,t.useState)(),W=j()(U,2),F=W[0],N=W[1];return(0,t.useEffect)(function(){(0,tn.aF)().then(function(i){return N(i.data.info)})},[]),(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(l.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:"64M",tooltip:"0 \u4E3A\u4F7F\u7528\u9ED8\u8BA464M\uFF0C\u914D\u7F6E\u65F6\u8BF7\u9644\u52A0\u5355\u4F4D\uFF0C\u4F8B\u5982\uFF1A1G"}),(0,e.jsx)(w.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ke.Z,{step:.1,max:F==null?void 0:F.NCPU,marks:{0:"0",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(w.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(Ke.Z,{step:256,max:Math.round(((L=F==null?void 0:F.MemTotal)!==null&&L!==void 0?L:0)/1024/1024),marks:{0:"0",1024:"1G",2048:"2G",3072:"3G",4096:"4G"}})}),(0,e.jsx)(fe.Z,{label:"\u65E5\u5FD7\u7C7B\u578B",name:["log","driver"],tooltip:"\u9ED8\u8BA4\u4F7F\u7528 json-file \u9A71\u52A8\u7531 docker \u7EDF\u4E00\u7BA1\u7406\u3002\u91C7\u7528 journal \u65F6\u65E5\u5FD7\u5C06\u6765\u5BBF\u4E3B\u673A\u7BA1\u7406",initialValue:"json-file",valueEnum:{"json-file":"json-file",journald:"journal (\u5BBF\u4E3B\u9700\u8981\u5B89\u88C5journal\u670D\u52A1)"}}),(0,e.jsx)(y.Z,{name:["log"],children:function(E){var V=E.log;if(V.driver=="json-file")return(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{label:"\u65E5\u5FD7\u5207\u5272\u5927\u5C0F",name:["log","maxSize"],placeholder:"\u4F8B\u5982\uFF1A10k,5M",tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u5207\u5272\u65E5\u5FD7"}),(0,e.jsx)(l.Z,{tooltip:"\u9ED8\u8BA4 Docker \u5E76\u4E0D\u4F1A\u81EA\u52A8\u6E05\u7406\u65E5\u5FD7\u6587\u4EF6",label:"\u4FDD\u7559\u65E5\u5FD7\u6587\u4EF6\u6570",name:["log","maxFile"],placeholder:"\u4F8B\u5982\uFF1A10"})]})}}),(0,e.jsx)(an.Z,{name:"device",label:"\u5173\u8054\u8BBE\u5907",hideCopyButton:!0,showAddButton:!0,items:[{label:"\u5BBF\u4E3B\u673A\u8DEF\u5F84",name:"host",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"},{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md",placeholder:"\u4F8B\u5982\uFF1A/dev/tty0"}]}),(0,e.jsxs)(rn.Z,{children:[(0,e.jsx)(He.Z,{span:4,children:(0,e.jsx)(xe.Z,{label:"\u4F7F\u7528 Gpu",name:["gpus","enable"]})}),(0,e.jsx)(He.Z,{span:20,children:(0,e.jsx)(y.Z,{name:["gpus"],children:function(E){var V=E.gpus;if(V&&V.enable)return(0,e.jsx)(fe.Z,{mode:"tags",label:"\u8BBE\u5907\u5217\u8868",name:["gpus","device"],placeholder:"\u914D\u7F6E\u4F7F\u7528\u8BBE\u5907id\u6216\u662Fuuid\uFF0C\u4E0D\u586B\u6240\u4E3A\u6240\u6709\u8BBE\u5907"})}})})]}),(0,e.jsx)(y.Z,{name:["gpus"],children:function(E){var V=E.gpus;if(V&&V.enable)return(0,e.jsx)(fe.Z,{label:"\u8BA1\u7B97\u80FD\u529B",name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:[{label:"compute - \u8BA1\u7B97\u80FD\u529B",value:"compute"},{label:"compat32 - \u517C\u5BB932\u4F4D",value:"compat32"},{label:"graphics - \u56FE\u5F62\u5904\u7406\u80FD\u529B",value:"graphics"},{label:"utility - \u76D1\u63A7\u548C\u7BA1\u7406\u80FD\u529B",value:"utility"},{label:"video - \u89C6\u9891\u5904\u7406\u80FD\u529B",value:"video"},{label:"display - \u663E\u793A\u56FE\u5F62\u754C\u9762\u80FD\u529B",value:"display"}]})}})]})}function on(){return(0,e.jsx)(_.Z,{title:"\u5BB9\u5668\u6807\u7B7E",children:(0,e.jsx)(S.u,{name:"label",label:"",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(l.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var ln=n(44771),sn=n(86615),An="default",bn="user";function dn(f){return(0,e.jsx)(w.Z,{label:f.label,tooltip:f.tooltip,children:(0,e.jsxs)(K.Z.Compact,{block:!0,children:[(0,e.jsx)(sn.Z.Group,{radioType:"button",name:[f.name,"useDefault"],options:[{label:"\u4F7F\u7528\u9ED8\u8BA4",value:!0},{label:"\u81EA\u5B9A\u4E49",value:!1}]}),(0,e.jsx)(y.Z,{name:[f.name],children:function(U){return U[f.name]&&U[f.name].useDefault?(0,e.jsx)(l.Z,{name:[f.name,"default"],disabled:!0,placeholder:"\u672A\u8BBE\u7F6E"}):(0,e.jsx)(l.Z,{name:[f.name,"value"]})}})]})})}var Se=dn,Le=n(24963);function cn(){var f=(0,t.useContext)(Le.Z),L=f.message,U=f.lang;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(ln.Z,{label:"\u91CD\u542F\u7B56\u7565"}),(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(xe.Z,{fieldProps:{onChange:function(F){F&&L.warning(U("app.create.privilegedNotice"))}},name:"privileged",tooltip:"--privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(xe.Z,{name:"autoRemove",tooltip:"--rm",label:"\u505C\u6B62\u540E\u81EA\u52A8\u5220\u9664",initialValue:!1}),(0,e.jsx)(xe.Z,{fieldProps:{onChange:function(F){F&&L.warning(U("app.create.hostPidNotice"))}},tooltip:"--pid host",name:"hostPid",label:"\u5173\u8054\u5BBF\u4E3B\u673APid",initialValue:!1})]}),(0,e.jsx)(Se,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir"}),(0,e.jsx)(Se,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user"}),(0,e.jsx)(Se,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command"}),(0,e.jsx)(Se,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint"})]})})}var mn=n(91845),$e=n(62597),Ge=n(82346),fn=n(46442),vn=(0,t.forwardRef)(function(f,L){var U=(0,t.useRef)(),W=(0,t.useRef)();(0,t.useImperativeHandle)(L,function(){return{}});var F=function(i){var E,V,G=!1,C=(E=(V=U.current)===null||V===void 0?void 0:V.getList())!==null&&E!==void 0?E:[];if(C.map(function(O){O.name==i.name&&(G=!0)}),!G){var c;(c=U.current)===null||c===void 0||c.add(i)}};return(0,e.jsxs)(_.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,extra:(0,e.jsx)(K.Z,{children:f.showUseBridgeNetwork&&(0,e.jsx)(xe.Z,{name:"useBridgeNetwork",fieldProps:{checkedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC",unCheckedChildren:"\u5173\u8054 Bridge \u7F51\u7EDC"}},"useBridgeNetwork")}),children:[(0,e.jsx)(S.u,{name:"network",actionRef:U,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(i,E){var V;return(V=W.current)===null||V===void 0||V.show(),!1}},copyIconProps:!1,min:0,itemRender:function(i,E){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:E.record.name}}),(0,e.jsx)(w.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:E.record.alise!=""&&(0,e.jsx)(ue.Z.Text,{code:!0,copyable:!0,children:E.record.alise})}),(0,e.jsx)(w.Z,{label:" ",children:i.action})]}),(0,e.jsx)(x.UW,{children:(0,e.jsx)(l.Z,{label:"\u6307\u5B9AIpV4",name:"ipV4",width:"md",disabled:E.record.name=="bridge",fieldProps:{addonAfter:E.record.subnet}})})]})}}),(0,e.jsx)(fn.Z,{ref:W,onSelect:function(i){F({name:i.Name,alise:[""],subnet:i.IPAM.Config[0].Subnet})}})]})}),hn=vn,_n=(0,t.forwardRef)(function(f,L){var U=(0,t.useState)(""),W=j()(U,2),F=W[0],N=W[1],i=(0,t.useRef)(),E=(0,t.useContext)(Q.Z),V=E.createFormRef;return(0,t.useImperativeHandle)(L,function(){return{setExposePort:function(C){if(C){var c,O,p=(c=(O=i.current)===null||O===void 0?void 0:O.getList())!==null&&c!==void 0?c:[];Object.keys(C).map(function(I){var s=!1;if(p.map(function(te){te.dest==I&&(s=!0)}),!s){var B;(B=i.current)===null||B===void 0||B.add({host:"",dest:I})}})}},setHostname:function(C){N(C)},addPortItem:function(C,c){var O,p=(O=i.current)===null||O===void 0?void 0:O.getList(),I=!1;if(p==null||p.map(function(B){if(B.host==C){I=!0;return}}),!I){var s;(s=i.current)===null||s===void 0||s.add({host:String(C),dest:String(c)})}}}}),(0,e.jsx)(_.Z,{title:"\u7ED1\u5B9A\u7AEF\u53E3",tooltip:"\u8BBF\u95EE\u7AEF\u53E3\u7559\u7A7A\u65F6\u968F\u673A\u751F\u6210\u7AEF\u53E3\uFF0C\u5168\u90E8\u5220\u9664\u5219\u8868\u793A\u4E0D\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,extra:(0,e.jsxs)(K.Z,{children:[f.showBindHost&&(0,e.jsx)(xe.Z,{name:"useHostNetwork",fieldProps:{checkedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",unCheckedChildren:"\u7ED1\u5B9AHost\u7F51\u7EDC",onChange:function(C){if(C){var c;(c=V.current)===null||c===void 0||c.setFieldsValue({bindIpV6:!1,publishAllPorts:!1})}}}}),f.showBindIpV6&&(0,e.jsx)(y.Z,{name:["siteName","useHostNetwork"],children:function(C){var c=C.useHostNetwork;return(0,e.jsx)(xe.Z,{name:"publishAllPorts",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3",unCheckedChildren:"\u7ED1\u5B9A\u5168\u90E8\u7AEF\u53E3"},disabled:c},"publishAllPorts")}}),f.showBindIpV6&&(0,e.jsx)(y.Z,{name:["siteName","useHostNetwork"],children:function(C){var c=C.useHostNetwork;return(0,e.jsx)(xe.Z,{name:"bindIpV6",fieldProps:{checkedChildren:"IpV6",unCheckedChildren:"IpV6"},disabled:c},"bindIpV6")}})]}),children:(0,e.jsx)(y.Z,{name:["useHostNetwork","bindIpV6","publishAllPorts"],children:function(C){var c=C.useHostNetwork,O=C.bindIpV6,p=C.publishAllPorts;if(!c&&!p)return(0,e.jsx)(S.u,{name:"ports",actionRef:i,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{width:f.showInDrawer?"sm":"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u8BBF\u95EE\u7AEF\u53E3\u6216\u662F\u521B\u5EFA\u5B8C\u6210\u540E\u5BF9\u5BB9\u5668\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3\uFF0C\u7ED1\u5B9AIpV6\u5FC5\u586B",required:O,rules:[{required:O}]}),(0,e.jsx)(l.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:f.showInDrawer?"sm":"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3",required:!0,rules:[{required:!0}]})]})})}})})}),pn=_n,Oe=n(52255);function En(){var f=(0,t.useRef)(),L=function(F){var N,i,E=!1,V=(N=(i=f.current)===null||i===void 0?void 0:i.getList())!==null&&N!==void 0?N:[];if(V.map(function(C){C.name==F.name&&(E=!0)}),!E){var G;(G=f.current)===null||G===void 0||G.add(F)}},U=function(F){var N,i,E=!1,V=(N=(i=f.current)===null||i===void 0?void 0:i.getList())!==null&&N!==void 0?N:[];V.map(function(G,C){if(G.name==F){var c;(c=f.current)===null||c===void 0||c.remove(C)}})};return(0,e.jsx)(_.Z,{title:"\u5173\u8054\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5185\u4E3B\u673A",tooltip:"\u5BB9\u5668\u5185\u5982\u679C\u9700\u8981\u8BF7\u6C42\u5BBF\u4E3B\u673A\u6240\u5728\u7684\u7F51\u7EDC\u4E2D\u7684\u4E3B\u673A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6B64\u914D\u7F6E\u5C06Ip\u6CE8\u5165\u5230\u5BB9\u5668\u4E2D",extra:(0,e.jsx)(K.Z,{children:(0,e.jsx)(xe.Z,{name:"enableBindHost",fieldProps:{checkedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",unCheckedChildren:"\u7ED1\u5B9A\u5BBF\u4E3B\u673AIp",onChange:function(F){F?L({name:"host.dpanel.local",value:"host-gateway"}):U("host.dpanel.local")}}})}),children:(0,e.jsx)(S.u,{name:"extraHosts",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BBF\u4E3B\u673A\u7F51\u7EDC\u5173\u8054"},actionRef:f,copyIconProps:!1,min:0,children:(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{width:"md",name:"name",label:"Hostname",placeholder:""}),(0,e.jsx)(l.Z,{width:"md",name:"value",label:"ip",placeholder:""})]})})})}var Ue=n(90672),Cn=(0,t.forwardRef)(function(f,L){return(0,t.useImperativeHandle)(L,function(){return{}}),(0,e.jsxs)(_.Z,{title:"\u7F51\u7EDC\u914D\u7F6E",children:[(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u5730\u5740",name:["ipV4","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u5730\u5740\uFF0C\u4F8B\u5982 192.168.1.5",placeholder:"192.168.1.5"}),(0,e.jsx)(y.Z,{name:["ipV4"],children:function(W){var F=W.ipV4;return(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u5B50\u7F51",name:["ipV4","subnet"],width:"md",required:F&&F.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 192.168.1.0/24",placeholder:"192.168.1.0/24",rules:[{required:F&&F.address}]})}}),(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV4 \u7F51\u5173",name:["ipV4","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 192.168.1.1",placeholder:"192.168.1.1"}),(0,e.jsx)(xe.Z,{label:"\u81EA\u5B9A\u4E49ipV6",name:"enableIpV6Address"})]}),(0,e.jsx)(y.Z,{name:["enableIpV6Address"],children:function(W){var F=W.enableIpV6Address;if(F)return(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u5730\u5740",name:["ipV6","address"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u5730\u5740\uFF0C\u4F8B\u5982 2001:db8::5",placeholder:"2001:db8::5"}),(0,e.jsx)(y.Z,{name:["ipV6"],children:function(i){var E=i.ipV6;return(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u5B50\u7F51",name:["ipV6","subnet"],width:"md",required:E&&E.address,tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipv4\u6240\u5728\u7684\u5B50\u7F51\uFF0C\u4F8B\u5982 2001:db8::/48",placeholder:"2001:db8::/48",rules:[{required:E&&E.address}]})}}),(0,e.jsx)(l.Z,{label:"\u914D\u7F6E ipV6 \u7F51\u5173",name:["ipV6","gateway"],width:"md",tooltip:"\u6307\u5B9A\u5BB9\u5668\u7684ipV6\u7684\u7F51\u5173\uFF0C\u4F8B\u5982 2001:db8::1",placeholder:"2001:db8::1"})]})}}),(0,e.jsx)(Ue.Z,{label:"DNS\u914D\u7F6E",name:"dns",placeholder:"\u8BF7\u6307\u5B9Adns\u5730\u5740\uFF0C\u4F8B\u5982\uFF1A8.8.8.8\uFF0C\u4E00\u884C\u6DFB\u4E00\u6761dns\u5730\u5740"})]})}),gn=Cn,We=n(31199),xn=n(86250);function jn(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_.Z,{title:"\u9644\u52A0\u6267\u884C\u811A\u672C",headerBordered:!0,subTitle:"",children:(0,e.jsx)(Ue.Z,{label:"\u5BB9\u5668\u521B\u5EFA\u540E\u6267\u884C\u811A\u672C",name:["hook","containerCreate"],placeholder:"\u5BB9\u5668\u5728\u521B\u5EFA\u540E\u6267\u884C\u7684\u811A\u672C\uFF0C\u6B64\u811A\u672C\u5E76\u4E0D\u4F1A\u5F71\u54CD entrypoint \u53CA command\u3002\u4F8B\u5982\uFF1Als -al && touch abc.txt && apt update"})}),(0,e.jsxs)(_.Z,{title:"\u5065\u5EB7\u68C0\u67E5",headerBordered:!0,children:[(0,e.jsxs)(xn.Z,{gap:20,justify:"start",children:[(0,e.jsx)(We.Z,{label:"\u91CD\u590D\u95F4\u9694\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","interval"],initialValue:30}),(0,e.jsx)(We.Z,{label:"\u8D85\u65F6\u5931\u8D25\u65F6\u95F4\uFF08\u79D2\uFF09",name:["healthcheck","timeout"],initialValue:10}),(0,e.jsx)(We.Z,{label:"\u5931\u8D25\u91CD\u590D\u6B21\u6570",name:["healthcheck","retries"],initialValue:3}),(0,e.jsx)(fe.Z,{width:"sm",label:"\u811A\u672C\u6267\u884C\u73AF\u5883",initialValue:"CMD",name:["healthcheck","shellType"],valueEnum:{CMD:"\u5728 Docker \u73AF\u5883\u6267\u884C","CMD-SHELL":"\u5728\u5BB9\u5668\u5185\u6267\u884C"}})]}),(0,e.jsx)(Ue.Z,{label:"\u6267\u884C\u811A\u672C",name:["healthcheck","cmd"],placeholder:"\u914D\u7F6E\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u811A\u672C\uFF0C\u4F8B\u5982\uFF1Acurl -f http://localhost:8080/ || exit 1"})]})]})}var Pn=n(74763),Ye=n(2487),Fn=[{name:"ALL"},{name:"AUDIT_CONTROL"},{name:"AUDIT_WRITE",default:!0},{name:"BLOCK_SUSPEND"},{name:"CHOWN",default:!0},{name:"DAC_OVERRIDE",default:!0},{name:"DAC_READ_SEARCH"},{name:"FOWNER",default:!0},{name:"FSETID",default:!0},{name:"IPC_LOCK"},{name:"IPC_OWNER"},{name:"KILL",default:!0},{name:"LEASE"},{name:"LINUX_IMMUTABLE"},{name:"MAC_ADMIN"},{name:"MAC_OVERRIDE"},{name:"MKNOD",default:!0},{name:"NET_ADMIN"},{name:"NET_BIND_SERVICE",default:!0},{name:"NET_BROADCAST"},{name:"NET_RAW",default:!0},{name:"SETFCAP",default:!0},{name:"SETGID",default:!0},{name:"SETPCAP",default:!0},{name:"SETUID",default:!0},{name:"SYSLOG"},{name:"SYS_ADMIN"},{name:"SYS_BOOT"},{name:"SYS_CHROOT",default:!0},{name:"SYS_MODULE"},{name:"SYS_NICE"},{name:"SYS_PACCT"},{name:"SYS_PTRACE"},{name:"SYS_RAWIO"},{name:"SYS_RESOURCE"},{name:"SYS_TIME"},{name:"SYS_TTY_CONFIG"}],Bn=(0,t.forwardRef)(function(f,L){var U=(0,t.useContext)(Le.Z),W=U.lang,F=(0,t.useState)(null),N=j()(F,2),i=N[0],E=N[1],V=(0,t.useContext)(Q.Z),G=V.createFormRef;return(0,t.useImperativeHandle)(L,function(){return{}}),(0,e.jsx)(_.Z,{children:(0,e.jsx)(Ye.Z,{grid:{gutter:10,xs:3,sm:3,md:4,lg:4,xl:4,xxl:6},dataSource:Fn,renderItem:function(c,O){var p;return(0,e.jsx)(Ye.Z.Item,{children:(0,e.jsx)(xe.Z,{fieldProps:{onChange:function(s){c.name=="ALL"&&E(s)}},disabled:c.name!="ALL"&&((0,Pn.k)(i)?(p=G.current)===null||p===void 0?void 0:p.getFieldValue(["capAdd","ALL"]):i),initialValue:c.default,name:["capAdd",c.name],tooltip:W("app.create.cap."+c.name.toLocaleLowerCase()),label:c.name})},O)}})})}),Dn=Bn;function In(){var f,L,U=(0,t.useContext)(Le.Z),W=U.loading,F=U.notice,N=(0,t.useContext)(Q.Z),i=N.createFormRef,E=N.volumeListRef,V=N.domainRef,G=N.createEnvRef,C=N.createLinkRef,c=(0,Ge.useSearchParams)(),O=j()(c,2),p=O[0],I=O[1],s=(0,Ge.useNavigate)(),B=(0,t.useState)("basic"),te=j()(B,2),Y=te[0],J=te[1],ve=(f=p.get("containerId"))!==null&&f!==void 0?f:"",Fe=(L=p.get("imageId"))!==null&&L!==void 0?L:"";return(0,t.useEffect)(function(){if(ve)W.show(),(0,$e.iE)({md5:ve}).then(function(){var a=P()(m()().mark(function oe(r){var ge,Be,me,q,be,Ce,we,Ne,Ve;return m()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(q={info:{}},!r.data.env.imageName){je.next=11;break}return je.prev=2,je.next=5,(0,ce.YU)({md5:r.data.env.imageName});case 5:be=je.sent,q=be.data,je.next=11;break;case 9:je.prev=9,je.t0=je.catch(2);case 11:r.data.env.network&&r.data.env.network.map(function(re){return!re.alise&&re.name!="bridge"&&(re.alise=[r.data.siteName+".pod.dpanel.local"]),re}),r.data.env.ports&&r.data.env.ports.map(function(re){return re.host=="0"&&(re.host=""),re}),Ce=r.data.env.bindIpV6,r.data.containerInfo.Info&&r.data.containerInfo.Info.NetworkSettings.Networks&&Object.keys(r.data.containerInfo.Info.NetworkSettings.Networks).map(function(re){if(r.data.env.network&&(r.data.env.network=r.data.env.network.map(function(ke){return re==ke.name&&(ke.subnet=r.data.containerInfo.Info.NetworkSettings.Networks[re].IPAddress+"/"+r.data.containerInfo.Info.NetworkSettings.Networks[re].IPPrefixLen),ke})),r.data.containerInfo.Info.NetworkSettings.Networks[re].IPv6Gateway!=""&&(Ce=!0),re=="bridge"){var Me;(Me=i.current)===null||Me===void 0||Me.setFieldValue("useBridgeNetwork",!0)}}),r.data.env.extraHosts&&r.data.env.extraHosts.map(function(re){if(re.value=="host-gateway"){var Me;(Me=i.current)===null||Me===void 0||Me.setFieldValue("enableBindHost",!0)}}),we=r.data.env.ports,r.data.env.ports&&(we=r.data.env.ports.map(function(re){return re.host=(re.hostIp?re.hostIp+":":"")+re.host,re})),(ge=i.current)===null||ge===void 0||ge.setFieldsValue({siteTitle:r.data.siteTitle,siteName:r.data.siteName,imageName:r.data.env.imageName,privileged:r.data.env.privileged,bindIpV6:r.data.env.useHostNetwork?!1:Ce,useHostNetwork:r.data.env.useHostNetwork,publishAllPorts:r.data.env.useHostNetwork?!1:r.data.env.publishAllPorts,workDir:{value:r.data.env.workDir,useDefault:!r.data.env.workDir,default:q&&q.info.Config&&q.info.Config.WorkingDir},user:{value:r.data.env.user,useDefault:!r.data.env.user,default:q&&q.info.Config&&q.info.Config.User},command:{value:r.data.env.command,useDefault:!r.data.env.command,default:q&&q.info.Config&&q.info.Config.Cmd&&q.info.Config.Cmd.join(" ")},entrypoint:{value:r.data.env.entrypoint,useDefault:!r.data.env.entrypoint,default:q&&q.info.Config&&q.info.Config.Entrypoint&&q.info.Config.Entrypoint.join(" ")},shmsize:(Be=r.data.env.shmsize)!==null&&Be!==void 0?Be:"64M",cpus:r.data.env.cpus,memory:r.data.env.memory,environment:r.data.env.environment,label:r.data.env.label,volumes:r.data.env.volumes,ports:we,links:r.data.env.links,network:r.data.env.network,restart:r.data.env.restart,extraHosts:r.data.env.extraHosts,autoRemove:r.data.env.autoRemove,log:r.data.env.log,dns:r.data.env.dns&&r.data.env.dns.join(`
`),ipV4:r.data.env.ipV4,ipV6:r.data.env.ipV6,gpus:r.data.env.gpus,device:r.data.env.device,hook:r.data.env.hook,hostPid:r.data.env.hostPid,capAdd:r.data.env.capAdd&&Object.fromEntries(r.data.env.capAdd.map(function(re){return[re,!0]}))}),r.data.env.ipV6&&((Ne=i.current)===null||Ne===void 0||Ne.setFieldValue("enableIpV6Address",!0)),r.data.env.healthcheck&&r.data.env.healthcheck.cmd&&r.data.env.healthcheck.cmd!=""&&((Ve=i.current)===null||Ve===void 0||Ve.setFieldsValue({healthcheck:r.data.env.healthcheck})),(me=E.current)===null||me===void 0||me.initImageRootfs(r.data.env.imageName);case 22:case"end":return je.stop()}},oe,null,[[2,9]])}));return function(oe){return a.apply(this,arguments)}}()).finally(function(){W.destroy()});else{var ae,z;(ae=i.current)===null||ae===void 0||ae.resetFields(),(z=i.current)===null||z===void 0||z.setFieldValue("useBridgeNetwork",!0)}},[p]),(0,e.jsx)(D._z,{children:(0,e.jsx)(_.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(d.A,{submitter:{render:function(z,a){return(0,e.jsx)(R.S,{children:a})}},formRef:i,onFinish:function(){var ae=P()(m()().mark(function z(a){var oe,r,ge,Be,me,q;return m()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(q={siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:(oe=a.network)!==null&&oe!==void 0?oe:[],privileged:(r=a.privileged)!==null&&r!==void 0?r:!1,autoRemove:(ge=a.autoRemove)!==null&&ge!==void 0?ge:!1,restart:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(Be=a.shmsize)!==null&&Be!==void 0?Be:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns&&a.dns!=""?a.dns.split(`
`):[],label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd?Object.keys(a.capAdd).map(function(we){return we}):[],useBridgeNetwork:(me=a.useBridgeNetwork)!==null&&me!==void 0?me:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){Ce.next=4;break}return F.error("\u4E0D\u52A0\u5165 Bridge \u7F51\u7EDC\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7F51\u7EDC"),Ce.abrupt("return",!1);case 4:return a.useBridgeNetwork&&q.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(q.healthcheck=a.healthcheck),ve&&(q.containerId=ve),Ce.next=9,(0,$e.$G)(q);case 9:return s("/app/list"),Ce.abrupt("return",!0);case 11:case"end":return Ce.stop()}},z)}));return function(z){return ae.apply(this,arguments)}}(),children:[(0,e.jsxs)(_.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(l.Z,{name:"siteTitle",label:"\u5BB9\u5668\u63CF\u8FF0",fieldProps:{onChange:function(z){var a="";if(z.target.value&&!ve){var oe,r=(0,mn.N9)(z.target.value.trim(),{toneType:"none",type:"array"});a=r.join(""),(oe=i.current)===null||oe===void 0||oe.setFieldValue("siteName",a)}}},placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u63CF\u8FF0\u540D\u79F0"}),(0,e.jsxs)(x.UW,{children:[(0,e.jsx)(l.Z,{width:"lg",name:"siteName",label:"\u5BB9\u5668\u6807\u8BC6",tooltip:"\u5BB9\u5668\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u5BB9\u5668\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:!!ve,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u5BB9\u5668\u6807\u8BC6\u540D\u79F0"}),(0,e.jsx)(l.Z,{label:"Hostname",name:"hostname",width:"md"})]}),(0,e.jsx)(Ae,{redeploy:!!ve,fromImageId:Fe})]}),(0,e.jsx)(h.Z,{offsetTop:50,children:(0,e.jsx)(_.Z,{style:{marginBottom:-20},children:(0,e.jsx)(X.Z,{activeKey:Y,onChange:function(z){J(z),window.scrollTo(0,450)},items:[{label:"\u57FA\u672C\u914D\u7F6E",key:"basic"},{label:"\u5173\u8054\u914D\u7F6E",key:"link"},{label:"\u8FD0\u884C\u914D\u7F6E",key:"run-command"},{label:"\u8D44\u6E90\u914D\u7F6E",key:"resource"},{label:"Hook",key:"hook"},{label:"\u80FD\u529B\u914D\u7F6E",key:"cap"},{label:"\u5176\u5B83",key:"other"}]})})}),(0,e.jsxs)(Oe.Z,{show:Y=="basic",children:[(0,e.jsx)(pn,{ref:V,showBindHost:!0,showBindIpV6:!0}),(0,e.jsx)(_e.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,label:"\u73AF\u5883\u53D8\u91CF",ref:G}),(0,e.jsx)(nn,{showDefault:!0,ref:E}),(0,e.jsx)(y.Z,{name:["siteName","useHostNetwork"],children:function(z){var a=z.siteName,oe=z.useHostNetwork;if(!oe)return(0,e.jsx)(gn,{})}})]}),(0,e.jsx)(Oe.Z,{show:Y=="link",children:(0,e.jsx)(y.Z,{name:["siteName","useHostNetwork"],children:function(z){var a=z.siteName,oe=z.useHostNetwork;return oe?(0,e.jsx)(u.Z,{showIcon:!0,description:"\u7ED1\u5B9A\u5230\u5BBF\u4E3B\u673A\u7F51\u7EDC\u65F6\uFF0C\u65E0\u6CD5\u901A\u8FC7 Docker \u5173\u8054\u5176\u5B83\u5BB9\u5668\u3002\u8BF7\u4F7F\u7528\u5BBF\u4E3B\u673A\u5185\u7F51IP\u6216\u662F127.0.0.1\u4E92\u8054\u5BB9\u5668\u66B4\u9732\u7AEF\u53E3\u3002"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ee,{onAddEnv:function(ge,Be){var me;(me=G.current)===null||me===void 0||me.addEnvItem(ge,Be)},ref:C}),(0,e.jsx)(hn,{showUseBridgeNetwork:!0,siteName:a}),(0,e.jsx)(En,{})]})}})}),(0,e.jsx)(Oe.Z,{show:Y=="run-command",children:(0,e.jsx)(cn,{})}),(0,e.jsx)(Oe.Z,{show:Y=="resource",children:(0,e.jsx)(un,{})}),(0,e.jsx)(Oe.Z,{show:Y=="hook",children:(0,e.jsx)(jn,{})}),(0,e.jsx)(Oe.Z,{show:Y=="other",children:(0,e.jsx)(on,{})}),(0,e.jsx)(Oe.Z,{show:Y=="cap",children:(0,e.jsx)(Dn,{})})]},"form")})})}},2831:function(de,$,n){"use strict";n.d($,{Ll:function(){return R},aF:function(){return j},d6:function(){return x},u5:function(){return _}});var M=n(15009),m=n.n(M),A=n(99289),P=n.n(A),g=n(82346);function j(){return D.apply(this,arguments)}function D(){return D=P()(m()().mark(function h(){return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,g.request)("/api/common/home/info",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},h)})),D.apply(this,arguments)}function _(){return d.apply(this,arguments)}function d(){return d=P()(m()().mark(function h(){return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,g.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},h)})),d.apply(this,arguments)}function R(){return l.apply(this,arguments)}function l(){return l=P()(m()().mark(function h(){return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,g.request)("/api/common/home/usage",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},h)})),l.apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){return y=P()(m()().mark(function h(){return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,g.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},h)})),y.apply(this,arguments)}},79245:function(de,$,n){"use strict";n.d($,{m:function(){return A},y:function(){return P}});var M=n(64599),m=n.n(M);function A(g){var j=[];if(!g||g=="")return j;var D=g.matchAll(/\$\{(\w+)[:-?=]*(.*?)\}/g),_=m()(D),d;try{for(_.s();!(d=_.n()).done;){var R=d.value;j.push({name:R[1],value:R[2]?R[2].indexOf("-")==0?R[2].substring(1):R[2]:""})}}catch(l){_.e(l)}finally{_.f()}return j}function P(g,j){return!g||!j?!1:(g&j)!==0}},86250:function(de,$,n){"use strict";n.d($,{Z:function(){return ce}});var M=n(67294),m=n(93967),A=n.n(m),P=n(98423),g=n(98065),j=n(53124),D=n(83559),_=n(83262);const d=["wrap","nowrap","wrap-reverse"],R=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],l=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],x=(o,b)=>{const T=b.wrap===!0?"wrap":b.wrap;return{[`${o}-wrap-${T}`]:T&&d.includes(T)}},y=(o,b)=>{const T={};return l.forEach(v=>{T[`${o}-align-${v}`]=b.align===v}),T[`${o}-align-stretch`]=!b.align&&!!b.vertical,T},h=(o,b)=>{const T={};return R.forEach(v=>{T[`${o}-justify-${v}`]=b.justify===v}),T};function X(o,b){return A()(Object.assign(Object.assign(Object.assign({},x(o,b)),y(o,b)),h(o,b)))}var u=X;const t=o=>{const{componentCls:b}=o;return{[b]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},Q=o=>{const{componentCls:b}=o;return{[b]:{"&-gap-small":{gap:o.flexGapSM},"&-gap-middle":{gap:o.flexGap},"&-gap-large":{gap:o.flexGapLG}}}},ne=o=>{const{componentCls:b}=o,T={};return d.forEach(v=>{T[`${b}-wrap-${v}`]={flexWrap:v}}),T},w=o=>{const{componentCls:b}=o,T={};return l.forEach(v=>{T[`${b}-align-${v}`]={alignItems:v}}),T},k=o=>{const{componentCls:b}=o,T={};return R.forEach(v=>{T[`${b}-justify-${v}`]={justifyContent:v}}),T},K=()=>({});var le=(0,D.I$)("Flex",o=>{const{paddingXS:b,padding:T,paddingLG:v}=o,ie=(0,_.IX)(o,{flexGapSM:b,flexGap:T,flexGapLG:v});return[t(ie),Q(ie),ne(ie),w(ie),k(ie)]},K,{resetStyle:!1}),H=function(o,b){var T={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&b.indexOf(v)<0&&(T[v]=o[v]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,v=Object.getOwnPropertySymbols(o);ie<v.length;ie++)b.indexOf(v[ie])<0&&Object.prototype.propertyIsEnumerable.call(o,v[ie])&&(T[v[ie]]=o[v[ie]]);return T},ce=M.forwardRef((o,b)=>{const{prefixCls:T,rootClassName:v,className:ie,style:pe,flex:Re,gap:De,children:e,vertical:Ae=!1,component:Ze="div"}=o,Te=H(o,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:Z,direction:S,getPrefixCls:ue}=M.useContext(j.E_),ee=ue("flex",T),[se,Ee,_e]=le(ee),fe=Ae!=null?Ae:Z==null?void 0:Z.vertical,Pe=A()(ie,v,Z==null?void 0:Z.className,ee,Ee,_e,u(ee,o),{[`${ee}-rtl`]:S==="rtl",[`${ee}-gap-${De}`]:(0,g.n)(De),[`${ee}-vertical`]:fe}),Ie=Object.assign(Object.assign({},Z==null?void 0:Z.style),pe);return Re&&(Ie.flex=Re),De&&!(0,g.n)(De)&&(Ie.gap=De),se(M.createElement(Ze,Object.assign({ref:b,className:Pe,style:Ie},(0,P.Z)(Te,["justify","wrap","align"])),e))})},64599:function(de,$,n){var M=n(96263);function m(A,P){var g=typeof Symbol!="undefined"&&A[Symbol.iterator]||A["@@iterator"];if(!g){if(Array.isArray(A)||(g=M(A))||P&&A&&typeof A.length=="number"){g&&(A=g);var j=0,D=function(){};return{s:D,n:function(){return j>=A.length?{done:!0}:{done:!1,value:A[j++]}},e:function(x){throw x},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _=!0,d=!1,R;return{s:function(){g=g.call(A)},n:function(){var x=g.next();return _=x.done,x},e:function(x){d=!0,R=x},f:function(){try{!_&&g.return!=null&&g.return()}finally{if(d)throw R}}}}de.exports=m,de.exports.__esModule=!0,de.exports.default=de.exports}}]);
