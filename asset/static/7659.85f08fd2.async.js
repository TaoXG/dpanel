"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7659],{37767:function(q,K,n){n.d(K,{Z:function(){return G}});var S=n(15009),c=n.n(S),P=n(99289),x=n.n(P),_=n(5574),W=n.n(_),l=n(45605),M=n(38345),g=n(97269),C=n(26412),T=n(42075),v=n(96074),$=n(25593),e=n(2487),O=n(67294),s=n(76428),J=n(78498),i=n(44771),b=n(60335),H=n(24963),Z=n(37413),f=n(87662),t=n(85893);function G(d){var z,Y,Q,X,ln,nn,on,rn,sn,cn,jn=(0,O.useState)(""),fn=W()(jn,2),a=fn[0],En=fn[1],un=(0,O.useContext)(H.Z),mn=un.message,In=un.notice,Cn=un.loading,Pn=un.lang,hn=(0,O.useRef)(),_n=[],E=[],dn=[],k=(0,O.useState)(""),vn=W()(k,2),an=vn[0],tn=vn[1];return(0,O.useEffect)(function(){if(d.data){var m;(m=hn.current)===null||m===void 0||m.setFieldValue("restart",d.data.info.HostConfig.RestartPolicy.Name),(0,f.EH)().then(function(D){tn(D.data.ip)}),En(d.data.info.Name)}},[d.data]),d.data&&d.data.domain&&d.data.domain.map(function(m){dn.push(m.serverName)}),d.data&&d.data.info.NetworkSettings&&d.data.info.NetworkSettings.Ports&&Object.keys(d.data.info.NetworkSettings.Ports).map(function(m){var D,B,U=(D=(B=d.data.info)===null||B===void 0?void 0:B.NetworkSettings.Ports[m])!==null&&D!==void 0?D:[{HostPort:null,HostIp:""}],L=m.split("/"),V=W()(L,2),y=V[0],R=V[1];U.map(function(en){en.HostPort?_n.push({PrivatePort:y,Type:R,IP:en.HostIp,PublicPort:en.HostPort}):E.push({PrivatePort:y,Type:R,IP:"",PublicPort:""})})}),(0,t.jsxs)(t.Fragment,{children:[d.data&&d.data.info.State.Running&&(0,t.jsx)(Z.Z,{publicPort:_n,privatePort:E,domain:dn,serverIp:an,showInDetail:!0,ghost:d.ghost,layout:"inline"}),(0,t.jsx)(M.Z,{title:(0,t.jsx)(l.Z,{}),subTitle:"\u5BB9\u5668\u72B6\u6001",ghost:d.ghost,children:(0,t.jsxs)(C.Z,{column:1,bordered:!0,children:[(0,t.jsx)(C.Z.Item,{label:"Hostname",children:(0,t.jsx)(T.Z,{split:(0,t.jsx)(v.Z,{type:"vertical"}),children:(0,t.jsx)(s.Z,{title:(z=d.data.info)===null||z===void 0?void 0:z.Config.Hostname})})}),(0,t.jsx)(C.Z.Item,{label:"\u5BB9\u5668\u540D\u79F0",children:(0,t.jsxs)(T.Z,{split:(0,t.jsx)(v.Z,{type:"vertical"}),children:[(0,t.jsx)(s.Z,{title:(Y=d.data.info)===null||Y===void 0?void 0:Y.Id.substring(0,12)}),(0,t.jsx)($.Z.Text,{copyable:!0,editable:{tooltip:"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0",onChange:function(){var m=x()(c()().mark(function B(U){var L,V;return c()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if((L=d.data.info)!==null&&L!==void 0&&L.Id){R.next=2;break}return R.abrupt("return");case 2:return R.next=4,(0,b.eE)({md5:d.data.info.Id,name:U});case 4:V=R.sent,En(U),mn.success(Pn("notification.finish"));case 7:case"end":return R.stop()}},B)}));function D(B){return m.apply(this,arguments)}return D}()},children:a})]})}),(0,t.jsx)(C.Z.Item,{label:(0,t.jsx)(J.Z,{title:"\u7F51\u7EDC",help:"\u9ED8\u8BA4\u7F51\u7EDC\u53EA\u652F\u6301\u901A\u8FC7ip\u8BBF\u95EE,ip\u4F1A\u968F\u7740\u5BB9\u5668\u542F\u52A8\u505C\u6B62\u6539\u53D8.\u5982\u679C\u9700\u8981\u5728\u5BB9\u5668\u5185\u4E92\u8054,\u8BF7\u901A\u8FC7\u3010\u7F16\u8F91\u7AD9\u70B9\u3011-\u3010\u6DFB\u52A0\u5173\u8054\u3011"}),children:((Q=d.data.info)===null||Q===void 0?void 0:Q.State.Running)&&(0,t.jsxs)(C.Z,{column:1,bordered:!0,children:[d.data.info.NetworkSettings.Networks&&Object.keys(d.data.info.NetworkSettings.Networks).map(function(m,D){var B,U,L;return(0,t.jsx)(C.Z.Item,{label:m,children:m=="host"?" Host \u7F51\u7EDC\uFF0C\u4E0E\u5BBF\u4E3B\u673A\u5171\u7528\u540C\u4E00\u7F51\u7EDC":(0,t.jsxs)(T.Z,{direction:"vertical",children:[(0,t.jsx)(s.Z,{title:(B=d.data.info)===null||B===void 0?void 0:B.NetworkSettings.Networks[m].IPAddress}),(U=d.data.info)===null||U===void 0?void 0:U.NetworkSettings.Networks[m].Gateway,(L=d.data.info)===null||L===void 0?void 0:L.NetworkSettings.Networks[m].MacAddress]})},"1")}),d.data.info.HostConfig.ExtraHosts&&(0,t.jsx)(C.Z.Item,{label:"\u5BBF\u4E3B\u673A\u7F51\u7EDC",children:(0,t.jsx)(T.Z,{direction:"vertical",children:d.data.info.HostConfig.ExtraHosts.map(function(m){if(m.indexOf(":")>-1){var D=m.split(":");return(0,t.jsxs)(T.Z,{children:[(0,t.jsx)(s.Z,{title:D[0]})," - ",D[1]]})}})})},"1")]})}),(0,t.jsxs)(C.Z.Item,{label:"\u8FD0\u884C\u65F6\u95F4",children:["\u521B\u5EFA\u4E8E: ",new Date((X=(ln=d.data.info)===null||ln===void 0?void 0:ln.Created)!==null&&X!==void 0?X:"").toLocaleString()," / \u66F4\u65B0\u4E8E: ",new Date((nn=(on=d.data.info)===null||on===void 0?void 0:on.State.StartedAt)!==null&&nn!==void 0?nn:"").toLocaleString()]}),(0,t.jsx)(C.Z.Item,{label:"\u91CD\u542F\u7B56\u7565",children:(0,t.jsx)(g.A,{name:"container-restart",submitter:!1,onValuesChange:function(){var m=x()(c()().mark(function D(B){var U,L;return c()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if((U=d.data.info)!==null&&U!==void 0&&U.Id){y.next=2;break}return y.abrupt("return");case 2:return y.next=4,(0,b.eE)({md5:d.data.info.Id,restart:B.restart});case 4:return L=y.sent,mn.success("\u4FEE\u6539\u91CD\u542F\u7B56\u7565\u6210\u529F"),y.abrupt("return");case 7:case"end":return y.stop()}},D)}));return function(D){return m.apply(this,arguments)}}(),layout:"inline",formRef:hn,children:(0,t.jsx)(i.Z,{defaultValue:(rn=d.data.info)===null||rn===void 0?void 0:rn.HostConfig.RestartPolicy.Name})})}),(0,t.jsx)(C.Z.Item,{label:"\u73AF\u5883\u53D8\u91CF",children:(0,t.jsx)(e.Z,{dataSource:(sn=(cn=d.data.info)===null||cn===void 0?void 0:cn.Config.Env)!==null&&sn!==void 0?sn:[],renderItem:function(D){var B=D.split("=");return(0,t.jsxs)(e.Z.Item,{children:[(0,t.jsx)($.Z.Text,{code:!0,children:B[0]})," = ",(0,t.jsx)($.Z.Text,{copyable:!0,children:B.slice(1).join("=")})]})}})})]})})]})}},14245:function(q,K,n){n.d(K,{Z:function(){return W}});var S=n(60433),c=n(38345),P=n(26412),x=n(25593),_=n(85893);function W(l){return(0,_.jsx)(c.Z,{ghost:l.ghost,title:(0,_.jsx)(S.Z,{}),subTitle:"\u955C\u50CF\u8BE6\u60C5",children:(0,_.jsxs)(P.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,_.jsx)(P.Z.Item,{label:"Image Tag",children:(0,_.jsx)(x.Z.Text,{copyable:!0,children:l.data.Config.Image})}),(0,_.jsx)(P.Z.Item,{label:"Image",children:l.data.Image}),(0,_.jsx)(P.Z.Item,{label:"CMD",children:l.data.Config.Cmd&&l.data.Config.Cmd.join(" ")}),(0,_.jsx)(P.Z.Item,{label:"ENTRYPOINT",children:l.data.Config.Entrypoint}),(0,_.jsx)(P.Z.Item,{label:"Labels",children:(0,_.jsx)(P.Z,{column:1,bordered:!0,children:l.data&&Object.keys(l.data.Config.Labels).map(function(M){return(0,_.jsx)(P.Z.Item,{label:M,children:l.data.Config.Labels[M]},M)})})})]})})}},27813:function(q,K,n){n.d(K,{Z:function(){return _n}});var S=n(15009),c=n.n(S),P=n(99289),x=n.n(P),_=n(5574),W=n.n(_),l=n(67294),M=n(80821),g=n(62597),C=n(60335),T=n(43425),v=n(58638),$=n(60219),e=n(86548),O=n(57132),s=n(87784),J=n(25035),i=n(38345),b=n(97269),H=n(62370),Z=n(5966),f=n(52688),t=n(82346),G=n(42075),d=n(65233),z=n(96074),Y=n(28036),Q=n(25593),X=n(85418),ln=n(40411),nn=n(84567),on=n(83062),rn=n(93162),sn=n(28031),cn=n(85576),jn=n(60940),fn=n(37476),a=n(85893);function En(E){var dn=cn.Z.useModal(),k=W()(dn,2),vn=k[0],an=k[1],tn=(0,l.useRef)(),m="";return(0,l.useEffect)(function(){var D,B;m=(D=localStorage.getItem("backupPath"))!==null&&D!==void 0?D:"",(B=tn.current)===null||B===void 0||B.setFieldValue("backupPath",m)},[]),(0,a.jsxs)(a.Fragment,{children:[an,(0,a.jsx)(fn.Y,{modalProps:{forceRender:!0},formRef:tn,title:"\u5907\u4EFD\u5BB9\u5668\u5B58\u50A8\u5377",trigger:(0,a.jsxs)(Y.ZP,{children:[(0,a.jsx)($.Z,{})," \u5907\u4EFD\u5B58\u50A8\u76EE\u5F55"]}),onFinish:function(){var D=x()(c()().mark(function B(U){var L,V;return c()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return U.backupPath&&localStorage.setItem("backupPath",U.backupPath),L={containerMd5:E.container.Id,backupPath:U.backupPath},R.next=4,(0,sn.vp)(L);case 4:return V=R.sent,vn.info({title:"\u6B63\u5728\u5907\u4EFD\u5B58\u50A8\u4E2D",content:(0,a.jsx)(i.Z,{ghost:!0,style:{paddingTop:30},children:(0,a.jsx)(jn.Z,{columns:[{title:"\u5907\u4EFD\u6587\u4EF6",key:"backup",dataIndex:"backup",width:300,render:function(gn,w,p){return(0,a.jsx)(Q.Z.Paragraph,{ellipsis:{rows:5,expandable:!0},children:w.backupTar})}},{title:"\u5907\u4EFD\u76EE\u5F55",key:"pathList",dataIndex:"pathList",render:function(gn,w,p){return w.pathList.map(function(xn,F){return(0,a.jsx)("div",{children:xn},F)})}}],dataSource:[{key:1,backupTar:V.data.backupTar,pathList:V.data.pathList}],rowKey:"key",pagination:!1})}),closable:!0,width:800}),R.abrupt("return",!0);case 7:case"end":return R.stop()}},B)}));return function(B){return D.apply(this,arguments)}}(),children:(0,a.jsx)(Z.Z,{label:"\u6307\u5B9A\u5BBF\u4E3B\u673A\u76EE\u5F55",tooltip:"\u8BF7\u586B\u5199\u5BBF\u4E3B\u673A\u76EE\u5F55\uFF0C\u4E0D\u5B58\u65F6\u4F1A\u65B0\u5EFA",name:"backupPath",placeholder:"/home/backup",initialValue:"/home/backup"})})]})}var un=n(24963),mn=n(99861),In=n(3393),Cn=n(50888),Pn=n(16596),hn=(0,l.forwardRef)(function(E,dn){var k;(0,l.useImperativeHandle)(dn,function(){return{}});var vn=(0,t.useNavigate)(),an=(0,l.useRef)(),tn=(0,l.useRef)(),m=(0,l.useRef)(),D=(0,l.useContext)(un.Z),B=D.message,U=D.notice,L=D.loading,V=D.lang,y=(0,l.useRef)(),R=(0,l.useRef)(),en=(0,l.useState)(0),gn=W()(en,2),w=gn[0],p=gn[1],xn=function(){var F=x()(c()().mark(function o(u){var h,r,j;return c()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(r=-2,!u.ignore){I.next=6;break}if(!(u.ignore.indexOf("".concat(u.info.Name,"@*"))>-1)){I.next=4;break}return I.abrupt("return",-2);case 4:if(!(u.ignore.indexOf("".concat(u.info.Name,"@").concat(u.info.Image))>-1)){I.next=6;break}return I.abrupt("return",-2);case 6:return I.next=8,(0,In.ZQ)({tag:(h=u.info.Config.Image)!==null&&h!==void 0?h:"",md5:u.info.Image,cacheTime:3600}).catch(function(N){r=-1});case 8:return j=I.sent,j&&(j.data.digestLocal&&j.data.digestLocal.length>0?r=j.data.upgrade?1:2:r=-2),I.abrupt("return",r);case 11:case"end":return I.stop()}},o)}));return function(u){return F.apply(this,arguments)}}();return(0,l.useEffect)(function(){E.checkContainerUpgrade&&(p(0),xn(E.data).then(function(F){p(F)}))},[E.data]),(0,a.jsx)(i.Z,{ghost:E.ghost,title:(0,a.jsx)(T.Z,{}),subTitle:"\u5BB9\u5668\u7BA1\u7406",children:(0,a.jsxs)(G.Z,{wrap:!0,children:[(0,a.jsx)(M.Z,{icon:(0,a.jsx)(v.Z,{}),action:function(){var o,u;return(0,C.LJ)({md5:(o=(u=E.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:""})},confirm:"\u5BFC\u51FA\u5BB9\u5668 Tar \u5305\u4E0D\u5305\u542B\u6302\u8F7D\u76EE\u5F55\u7684\u6570\u636E\uFF0C\u786E\u5B9A\u5417\uFF1F",onSuccess:function(o){var u,h=new Blob([o],{type:"application/tar"});(0,rn.saveAs)(h,((u=E.data)===null||u===void 0?void 0:u.info.Id)+".tar")},children:"\u5BFC\u51FA\u5BB9\u5668"}),(0,a.jsx)(M.Z,{icon:(0,a.jsx)($.Z,{}),action:x()(c()().mark(function F(){var o,u,h,r,j;return c()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,C.Re)({md5:(o=(u=E.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:"",name:(h=(r=tn.current)===null||r===void 0?void 0:r.getFieldValue("saveImageName"))!==null&&h!==void 0?h:(j=E.data)===null||j===void 0?void 0:j.info.Name});case 2:case"end":return I.stop()}},F)})),confirmTitle:"\u5C06\u5F53\u524D\u5BB9\u5668\u4FDD\u5B58\u4E3A\u955C\u50CF",confirm:(0,a.jsx)(G.Z,{style:{width:400,marginTop:"10px",paddingRight:"10px"},direction:"vertical",children:(0,a.jsx)(b.A,{formRef:tn,submitter:!1,children:(0,a.jsx)(H.Z,{name:"saveImageName",children:(0,a.jsx)(d.Z,{addonBefore:"\u955C\u50CF\u540D\u79F0"})})})}),children:"\u53E6\u5B58\u4E3A\u955C\u50CF"}),E.data&&(0,a.jsx)(En,{container:E.data.info}),(0,a.jsx)(z.Z,{type:"vertical"}),(0,a.jsx)(t.Link,{to:"/app/create/image?containerId=".concat((k=E.data)===null||k===void 0?void 0:k.info.Id,"&op=update"),children:(0,a.jsx)(Y.ZP,{type:"primary",icon:(0,a.jsx)(e.Z,{}),children:"\u7F16\u8F91\u5BB9\u5668"})}),(0,a.jsx)(M.Z,{icon:(0,a.jsx)(O.Z,{}),action:x()(c()().mark(function F(){var o,u,h,r,j,A;return c()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,C.aF)({md5:(o=(u=E.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:"",copyName:(h=(r=m.current)===null||r===void 0?void 0:r.getFieldValue("copyName"))!==null&&h!==void 0?h:"",enableRandomPort:(j=(A=m.current)===null||A===void 0?void 0:A.getFieldValue("enableRandomPort"))!==null&&j!==void 0?j:!1});case 2:return N.abrupt("return",N.sent);case 3:case"end":return N.stop()}},F)})),confirm:(0,a.jsxs)(G.Z,{style:{width:400,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(Q.Z.Text,{children:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B, \u590D\u5236\u7684\u76EE\u6807\u5BB9\u5668\u4E0E\u5F53\u524D\u5BB9\u5668\u5177\u6709\u76F8\u540C\u7684\u914D\u7F6E\u65E0\u6CD5\u542F\u52A8\u3002 \u5982\u679C\u4F60\u5E0C\u671B\u76EE\u6807\u5BB9\u5668\u6B63\u5E38\u8FD0\u884C\uFF0C\u8BF7\u5F00\u542F\u3010\u7ED1\u5B9A\u968F\u673A\u7AEF\u53E3\u3011"}),(0,a.jsxs)(b.A,{formRef:m,submitter:!1,layout:"horizontal",children:[(0,a.jsx)("br",{}),(0,a.jsx)(Z.Z,{label:"\u590D\u5236\u5BB9\u5668\u540D\u79F0",name:"copyName"}),(0,a.jsx)(f.Z,{label:"\u7ED1\u5B9A\u968F\u673A\u7AEF\u53E3",name:"enableRandomPort"})]})]}),onSuccess:function(o){var u;(u=m.current)===null||u===void 0||u.resetFields()},children:"\u590D\u5236\u5BB9\u5668"}),E.data&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(mn.Z,{image:[E.data.info.Config.Image],ref:y}),(0,a.jsx)(X.Z,{placement:"bottomLeft",menu:{items:[{key:"1",label:(0,a.jsx)(M.Z,{action:x()(c()().mark(function F(){var o,u,h,r,j,A;return c()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,g.ze)({md5:(o=(u=E.data.info)===null||u===void 0?void 0:u.Name)!==null&&o!==void 0?o:"",imageId:""});case 2:return p(0),N.next=5,(0,In.ZQ)({tag:(h=(r=E.data.info)===null||r===void 0?void 0:r.Config.Image)!==null&&h!==void 0?h:"",md5:(j=(A=E.data.info)===null||A===void 0?void 0:A.Image)!==null&&j!==void 0?j:"",cacheTime:0}).then(function(Dn){Dn.data.digestLocal&&Dn.data.digestLocal.length>0?p(Dn.data.upgrade?1:2):p(-2)}).catch(function(Dn){p(-1)});case 5:return N.abrupt("return",N.sent);case 6:case"end":return N.stop()}},F)})),type:"link",children:"\u81EA\u52A8\u68C0\u6D4B"})},{key:"2",label:(0,a.jsx)(M.Z,{action:x()(c()().mark(function F(){var o,u,h,r;return c()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,g.ze)({md5:(o=(u=E.data.info)===null||u===void 0?void 0:u.Name)!==null&&o!==void 0?o:"",imageId:(h=(r=E.data.info)===null||r===void 0?void 0:r.Image)!==null&&h!==void 0?h:""});case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},F)})),type:"link",children:"\u5FFD\u7565\u672C\u6B21"})},{key:"3",label:(0,a.jsx)(M.Z,{action:x()(c()().mark(function F(){var o,u;return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.ze)({md5:(o=(u=E.data.info)===null||u===void 0?void 0:u.Name)!==null&&o!==void 0?o:"",imageId:"*"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},F)})),type:"link",children:"\u6C38\u4E45\u5FFD\u7565"})}]},children:(0,a.jsx)(ln.Z,{count:V("app.detail.checkImageUpgrade."+w),color:V("app.detail.checkImageUpgradeColor."+w),children:(0,a.jsx)(M.Z,{disabled:w===0,icon:w===0?(0,a.jsx)(Cn.Z,{}):(0,a.jsx)(Pn.Z,{}),action:x()(c()().mark(function F(){var o,u,h,r,j;return c()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(o=y.current)===null||o===void 0?void 0:o.start();case 2:return L.show(),(u=y.current)===null||u===void 0||u.finish(),I.next=6,(0,C.RF)({md5:(h=E.data.info.Id)!==null&&h!==void 0?h:"",imageTag:"",enableBak:(r=(j=R.current)===null||j===void 0?void 0:j.getFieldValue("enableBak"))!==null&&r!==void 0?r:!0});case 6:return I.abrupt("return",I.sent);case 7:case"end":return I.stop()}},F)})),confirm:(0,a.jsxs)(G.Z,{style:{width:280,paddingRight:"10px"},direction:"vertical",children:[(0,a.jsx)(Q.Z.Text,{children:"\u66F4\u65B0\u5BB9\u5668\u524D\u8BF7\u786E\u4FDD\u8FDC\u7A0B Docker \u7248\u672C\u4E0E\u9762\u677F\u73AF\u5883\u4E00\u81F4\u3002\u6B64\u64CD\u4F5C\u5C06\u4F1A\u91CD\u65B0\u62C9\u53D6\u955C\u50CF\u5E76\u91CD\u5EFA\u5BB9\u5668\u3002\u786E\u5B9A\u5417\uFF1F"}),(0,a.jsx)(b.A,{formRef:R,submitter:!1,layout:"inline",children:(0,a.jsx)(H.Z,{name:"enableBak",initialValue:!0,valuePropName:"checked",children:(0,a.jsx)(nn.Z,{children:"\u5907\u4EFD\u65E7\u5BB9\u5668\uFF1F"})})})]}),onSuccess:function(o){L.destroy(),E.checkContainerUpgrade&&E.checkContainerUpgrade()},children:"\u5FEB\u901F\u5347\u7EA7\u5BB9\u5668"})})})]}),(0,a.jsx)(z.Z,{type:"vertical"}),E.data&&(0,a.jsx)(M.Z,{action:function(){var o,u,h,r,j,A;return(0,g.Ct)({md5:(o=(u=E.data)===null||u===void 0?void 0:u.info.Id)!==null&&o!==void 0?o:"",deleteImage:(h=(r=an.current)===null||r===void 0?void 0:r.getFieldValue("deleteImage"))!==null&&h!==void 0?h:!1,deleteVolume:(j=(A=an.current)===null||A===void 0?void 0:A.getFieldValue("deleteVolume"))!==null&&j!==void 0?j:!1})},danger:!0,type:"primary",icon:(0,a.jsx)(s.Z,{}),onSuccess:function(){L.destroy(),E.checkContainerUpgrade&&E.checkContainerUpgrade()},confirm:(0,a.jsxs)(G.Z,{style:{width:200},direction:"vertical",children:[(0,a.jsx)(Q.Z.Text,{children:V("notification.confirm.title")}),(0,a.jsxs)(b.A,{formRef:an,layout:"inline",submitter:!1,children:[(0,a.jsx)(H.Z,{addonAfter:(0,a.jsx)(on.Z,{title:"\u672A\u6302\u8F7D\u955C\u50CF\u5185\u58F0\u660E\u7684\u76EE\u5F55\u5E76\u7531 docker \u81EA\u52A8\u521B\u5EFA\u7684\u5B58\u50A8\u5377",children:(0,a.jsx)(J.Z,{})}),name:"deleteVolume",valuePropName:"checked",children:(0,a.jsx)(nn.Z,{children:"\u5220\u9664\u533F\u540D\u5B58\u50A8\u5377\uFF1F"})}),(0,a.jsx)(H.Z,{name:"deleteImage",valuePropName:"checked",children:(0,a.jsx)(nn.Z,{children:"\u5220\u9664\u955C\u50CF\uFF1F"})})]})]}),children:"\u5220\u9664"})]})})}),_n=hn},14189:function(q,K,n){var S=n(43425),c=n(74842),P=n(87784),x=n(33160),_=n(30159),W=n(89035),l=n(38345),M=n(42075),g=n(96074),C=n(28036),T=n(67294),v=n(94359),$=n(80821),e=n(60335),O=n(57716),s=n(85893),J=(0,T.forwardRef)(function(i,b){(0,T.useImperativeHandle)(b,function(){return{}});var H=(0,T.useRef)();return(0,s.jsx)(l.Z,{title:(0,s.jsx)(S.Z,{}),ghost:i.ghost,subTitle:(0,s.jsxs)(M.Z,{children:["\u72B6\u6001\u7BA1\u7406 - ",i.data&&(0,s.jsx)(v.Z,{status:i.data.State.Status,message:{content:i.data.State.Status,placement:"top"}})]}),children:(0,s.jsxs)(M.Z,{wrap:!0,children:[(0,s.jsx)($.Z,{icon:(0,s.jsx)(c.Z,{}),action:function(){var f,t;return(0,e.IW)({md5:(f=(t=i.data)===null||t===void 0?void 0:t.Id)!==null&&f!==void 0?f:"",operate:"start"})},onSuccess:function(){return i.onFinish&&i.onFinish()},disabled:i.data&&i.data.State.Running||i.data&&i.data.State.Paused,children:"\u542F\u52A8"}),(0,s.jsx)($.Z,{action:function(){var f,t;return(0,e.IW)({md5:(f=(t=i.data)===null||t===void 0?void 0:t.Id)!==null&&f!==void 0?f:"",operate:"stop"})},icon:(0,s.jsx)(P.Z,{}),onSuccess:function(){return i.onFinish&&i.onFinish()},disabled:i.data&&i.data.State.Dead,children:"\u505C\u6B62"}),(0,s.jsx)($.Z,{action:function(){var f,t;return(0,e.IW)({md5:(f=(t=i.data)===null||t===void 0?void 0:t.Id)!==null&&f!==void 0?f:"",operate:"restart"})},onSuccess:function(){return i.onFinish&&i.onFinish()},icon:(0,s.jsx)(x.Z,{}),children:"\u91CD\u542F"}),(0,s.jsx)($.Z,{action:function(){var f,t;return(0,e.IW)({md5:(f=(t=i.data)===null||t===void 0?void 0:t.Id)!==null&&f!==void 0?f:"",operate:"pause"})},onSuccess:function(){return i.onFinish&&i.onFinish()},icon:(0,s.jsx)(_.Z,{}),disabled:i.data&&i.data&&!i.data.State.Running,children:"\u6682\u505C"}),(0,s.jsx)($.Z,{action:function(){var f,t;return(0,e.IW)({md5:(f=(t=i.data)===null||t===void 0?void 0:t.Id)!==null&&f!==void 0?f:"",operate:"unpause"})},onSuccess:function(){return i.onFinish&&i.onFinish()},icon:(0,s.jsx)(c.Z,{}),disabled:i.data&&!i.data.State.Paused,children:"\u6062\u590D"}),(0,s.jsx)(g.Z,{type:"vertical"}),i.data&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.Z,{ref:H}),(0,s.jsx)(C.ZP,{type:"dashed",onClick:function(){var f;i.data&&((f=H.current)===null||f===void 0||f.show(i.data.Id))},icon:(0,s.jsx)(W.Z,{}),children:"Console"})]}),(0,s.jsx)(g.Z,{type:"vertical"}),i.extra&&i.extra.map(function(Z,f){return(0,s.jsx)("span",{children:Z},f)})]})})});K.Z=J},52031:function(q,K,n){n.d(K,{Z:function(){return M}});var S=n(31574),c=n(95591),P=n(38345),x=n(26412),_=n(78451),W=n(82346),l=n(85893);function M(g){var C;return g.data&&g.data.Mounts&&g.data.Mounts.length>0&&(0,l.jsx)(P.Z,{ghost:g.ghost,title:(0,l.jsx)(S.Z,{}),subTitle:"\u6302\u8F7D\u76EE\u5F55\u8BE6\u60C5",children:(0,l.jsx)(x.Z,{column:1,bordered:!0,children:(C=g.data)===null||C===void 0?void 0:C.Mounts.map(function(T,v){var $;return(0,l.jsx)(x.Z.Item,{labelStyle:{width:"30%"},label:T.Type=="volume"?(0,l.jsx)(_.Z,{content:T.Name}):T.Source,children:(0,l.jsxs)(W.Link,{target:"_blank",to:"/app/detail/file/".concat(($=g.data)===null||$===void 0?void 0:$.Id,"?tab=file&path=").concat(encodeURIComponent(T.Destination)),children:[T.Destination," ",(0,l.jsx)(c.Z,{})]})},v)})})})}},94359:function(q,K,n){n.d(K,{Z:function(){return $}});var S=n(3089),c=n(98165),P=n(18429),x=n(8751),_=n(14313),W=n(30159),l=n(87740),M=n(50888),g=n(66309),C=n(83062),T=n(82346),v=n(85893);function $(e){var O=(0,v.jsx)(v.Fragment,{});if(e.status=="0"&&(O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(S.Z,{}),color:"default",children:"waiting"})),e.status=="10"&&(O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(c.Z,{spin:!0}),color:"processing",children:"processing"})),e.status=="20"&&(O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(P.Z,{}),color:"error",children:"error"})),e.status=="30"&&(O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(x.Z,{}),color:"success",children:"success"})),e.status=="running"||e.status=="healthy"){var s,J;O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(_.Z,{}),color:"success",children:(s=e.message)!==null&&s!==void 0&&s.showInTag?(J=e.message)===null||J===void 0?void 0:J.content:e.status})}if(e.status=="paused"){var i,b;O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(W.Z,{}),children:(i=e.message)!==null&&i!==void 0&&i.showInTag?(b=e.message)===null||b===void 0?void 0:b.content:e.status})}if(e.status=="waiting"||e.status=="starting"){var H,Z;O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(l.Z,{}),children:(H=e.message)!==null&&H!==void 0&&H.showInTag?(Z=e.message)===null||Z===void 0?void 0:Z.content:e.status})}if(e.status=="deploying"){var f,t;O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(M.Z,{}),color:"processing",children:(f=e.message)!==null&&f!==void 0&&f.showInTag?(t=e.message)===null||t===void 0?void 0:t.content:e.status})}if(e.status=="error"){var G,d;O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(P.Z,{}),color:"error",children:(G=e.message)!==null&&G!==void 0&&G.showInTag?(d=e.message)===null||d===void 0?void 0:d.content:e.status})}if(e.status=="exited"||e.status=="dead"||e.status=="removing"||e.status=="restarting"||e.status=="unhealthy"||e.status=="created"){var z,Y;O=(0,v.jsx)(g.Z,{icon:(0,v.jsx)(P.Z,{}),color:"warning",children:(z=e.message)!==null&&z!==void 0&&z.showInTag?(Y=e.message)===null||Y===void 0?void 0:Y.content:e.status})}if(e.link)return(0,v.jsx)(T.Link,{to:e.link,children:O});if(e.message){var Q,X;return(0,v.jsx)(C.Z,{placement:(Q=e.message.placement)!==null&&Q!==void 0?Q:"top",title:(X=e.message.title)!==null&&X!==void 0?X:e.message.content,children:O})}}},76428:function(q,K,n){n.d(K,{Z:function(){return x}});var S=n(25593),c=n(67294),P=n(85893);function x(_){return(0,P.jsx)(S.Z.Text,{copyable:!0,children:_.title})}},78498:function(q,K,n){n.d(K,{Z:function(){return W}});var S=n(25035),c=n(42075),P=n(83062),x=n(67294),_=n(85893);function W(l){return(0,_.jsxs)(c.Z,{children:[l.title,(0,_.jsx)(P.Z,{title:l.help,children:(0,_.jsx)(S.Z,{})})]})}}}]);
